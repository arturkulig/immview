{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///immview.js","webpack:///webpack/bootstrap 9feb5c7d0228a7bec1dd","webpack:///./src/index.js","webpack:///./src/Domain.js","webpack:///./src/Dispatcher.js","webpack:///./src/Data.js","webpack:///./src/Reactor.js","webpack:///external \"immutable\"","webpack:///./src/Digest.js","webpack:///./src/Schedule.js","webpack:///./src/Graph.js","webpack:///./src/View.js","webpack:///./src/ViewMergeMap.js","webpack:///./src/Debounce.js","webpack:///./src/Throttle.js","webpack:///./src/Scan.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_5__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","dispatch","Dispatcher","Scan","Throttle","Debounce","Domain","View","Data","undefined","_Domain","_Domain2","_Data","_Data2","_View","_View2","_Debounce","_Debounce2","_Throttle","_Throttle2","_Scan","_Scan2","_Dispatcher","stream","actions","subscribe","Error","errorPrefix","assignActions","ctx","actionNames","keys","forEach","actionName","action","_len","arguments","length","args","Array","_key","dispatchDomainAction","originalLength","_actionNames","noop","prototype","read","map","nextProcessor","debounce","timeout","throttle","scan","valuesToRemember","initialValue","reaction","appendReactor","destroy","_this","rejectContext","_typeof","Symbol","constructor","runFirstQueuedItem","task","shiftFromQueue","context","apply","toRun","findMaxPriority","queue","splice","indexOf","maxPriority","firstOfPriority","i","jobPriority","priority","appendToQueue","PRIORITY_EXT","push","PRIORITY_DOMAIN","dispatchDataWrite","PRIORITY_DATA_WRITE","dispatchDataConsume","PRIORITY_DATA_CONSUMING","dispatchExternal","startQueue","isRunning","tick","e","logError","logger","error","stack","name","message","filter","item","func","console","initialData","_Reactor2","_linkTo","_digest","_Reactor","create","write","change","closed","_interopRequireWildcard","newObj","key","hasOwnProperty","Reactor","_reactors","shouldStructureBeReplaced","structure","candidate","hasValue","_immutable","is","v","identity","_Digest","Digest","sourceNode","link","_unlink","unlink","_consume","data","chew","_flush","_this2","registeredReaction","writable","processor","source","target","setGraph","getGraph","concat","_ref","_ref2","_slicedToArray","node","job","setSchedule","Schedule","scheduleJob","getSchedule","processQueue","executeNextJob","digestEdges","edges","restoreNodesJobs","newEdges","currentSchedule","digestJobMap","createSchedule","copyQueueOntoSchedule","scheduleLength","runScheduledPriorityJob","digestSchedule","schedule","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","iterator","next","done","err","isArray","TypeError","_Schedule","graph","Graph","getOrder","reduce","jobMap","unshift","nodeNewJob","currentDigestSchedule","newSchedule","entry","currentNode","findJob","result","sourceEntry","sourceEntryNode","sourceEntryJob","j","targetEntry","targetEntryNode","currentJob","restOfJobs","_Graph","getAllNodes","currentResult","isIn","visited","getOrderStartingFromNode","edge","visitedNodesResult","childNodesResult","getNodeChildren","childNode","givenNodeResult","list","element","process","unsubs","connectToSource","connectToMultipleSources","aView","sources","mergedStructure","_ViewMergeMap2","sourcesNames","sourceName","sourceData","set","clone","_ViewMergeMap","_toArray","from","ViewMergeMap","initialObject","prop","anotherInstance","get","toJS","toObject","getIn","otherProps","slice","defaultValue","setIn","_ref3","_ref4","newValue","timeoutID","subscription","clearTimeout","setTimeout","timeoutedData","history","pushToHistory","premadeHistory","unsubscribe","steps","newHistory"],"mappings":"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","file":"immview.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory(require(\"immutable\"));\n\telse\n\t\troot[\"immview\"] = factory(root[\"immutable\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory(require(\"immutable\"));\n\telse\n\t\troot[\"immview\"] = factory(root[\"immutable\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.dispatch = exports.Dispatcher = exports.Scan = exports.Throttle = exports.Debounce = exports.Domain = exports.View = exports.Data = undefined;\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tvar _Domain2 = _interopRequireDefault(_Domain);\n\t\n\tvar _Data = __webpack_require__(3);\n\t\n\tvar _Data2 = _interopRequireDefault(_Data);\n\t\n\tvar _View = __webpack_require__(9);\n\t\n\tvar _View2 = _interopRequireDefault(_View);\n\t\n\tvar _Debounce = __webpack_require__(11);\n\t\n\tvar _Debounce2 = _interopRequireDefault(_Debounce);\n\t\n\tvar _Throttle = __webpack_require__(12);\n\t\n\tvar _Throttle2 = _interopRequireDefault(_Throttle);\n\t\n\tvar _Scan = __webpack_require__(13);\n\t\n\tvar _Scan2 = _interopRequireDefault(_Scan);\n\t\n\tvar _Dispatcher = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Data = _Data2.default;\n\texports.View = _View2.default;\n\texports.Domain = _Domain2.default;\n\texports.Debounce = _Debounce2.default;\n\texports.Throttle = _Throttle2.default;\n\texports.Scan = _Scan2.default;\n\texports.Dispatcher = _Dispatcher.Dispatcher;\n\texports.dispatch = _Dispatcher.dispatch;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Domain;\n\t\n\tvar _Dispatcher = __webpack_require__(2);\n\t\n\tvar noop = function noop() {\n\t    return null;\n\t};\n\t\n\tvar errorPrefix = 'Immview::Domain: ';\n\t\n\t/**\n\t * Create a domain holding a view\n\t * @param {Reactor} stream\n\t * @optional\n\t * @param {Object.<function>} actions\n\t */\n\tfunction Domain(stream, actions) {\n\t    if (!stream.subscribe) {\n\t        throw new Error(errorPrefix + ' stream source required');\n\t    }\n\t    this.stream = stream;\n\t    assignActions(this, actions);\n\t}\n\t\n\tDomain.prototype = {\n\t    /**\n\t     * Retrieve last value on stream attached to the Domain\n\t     * @returns {Iterable}\n\t     */\n\t\n\t    read: function read() {\n\t        return this.stream.read();\n\t    },\n\t\n\t    // WRITE ?\n\t    // no write method now and in the future\n\t    // as it would encourage developers\n\t    // to modify domain data\n\t    // outside of the domain scope\n\t\n\t    /**\n\t     * Create a new stream from a stream attached to the Domain\n\t     * @param {function(Iterable)} nextProcessor\n\t     * @returns {View}\n\t     */\n\t    map: function map(nextProcessor) {\n\t        return this.stream.map(nextProcessor);\n\t    },\n\t\n\t    /**\n\t     * Create a new stream that will not trigger its subscriptions\n\t     * until given amount of miliseconds will pass from last call\n\t     * @param {number} timeout\n\t     * @returns {Debounce}\n\t     */\n\t    debounce: function debounce(timeout) {\n\t        return this.stream.debounce(timeout);\n\t    },\n\t\n\t    /**\n\t     * Create a new stream\n\t     * that will not trigger its subscriptions immediately,\n\t     * but defers updates for a number of miliseconds\n\t     * provided with timeout argument\n\t     * after first call\n\t     * @param {number} timeout\n\t     * @returns {Throttle}\n\t     */\n\t    throttle: function throttle(timeout) {\n\t        return this.stream.throttle(timeout);\n\t    },\n\t    scan: function scan(valuesToRemember, initialValue) {\n\t        return this.stream.scan(valuesToRemember, initialValue);\n\t    },\n\t\n\t    /**\n\t     * Register a listener to changes on data stream.\n\t     * Calls provided method upon registration.\n\t     * @param reaction\n\t     * @returns {function()} unsubscribe\n\t     */\n\t    subscribe: function subscribe(reaction) {\n\t        return this.stream.subscribe(reaction);\n\t    },\n\t\n\t    /**\n\t     * Register a listener to changes on data stream.\n\t     * @param reaction\n\t     * @returns {function()} unsubscribe\n\t     */\n\t    appendReactor: function appendReactor(reaction) {\n\t        return this.stream.appendReactor(reaction);\n\t    },\n\t\n\t    /**\n\t     * Remove all subscriptions caused by the domain.\n\t     * Destroy stream attached to it.\n\t     * Cancel all currently dispatched actions.\n\t     */\n\t    destroy: function destroy() {\n\t        var _this = this;\n\t\n\t        // destroy and unmount a structure\n\t        this.stream.destroy();\n\t        this.stream = null;\n\t\n\t        // remove all queued actions\n\t        (0, _Dispatcher.rejectContext)(this);\n\t\n\t        // unmount all domain methods\n\t        this._actionNames.forEach(function (actionName) {\n\t            _this[actionName] = noop;\n\t        });\n\t        this._actionNames = null;\n\t    }\n\t};\n\t\n\tfunction assignActions(ctx, actions) {\n\t    if (!actions) {\n\t        ctx.actions = function () {\n\t            return [];\n\t        };\n\t        return;\n\t    }\n\t    var actionNames = Object.keys(actions);\n\t\n\t    actionNames.forEach(function (actionName) {\n\t        var action = actions[actionName];\n\t\n\t        if (ctx[actionName] !== undefined) {\n\t            throw new Error('' + errorPrefix + actionName + ' is reserved for Domain interface');\n\t        }\n\t\n\t        if (typeof action !== 'function') {\n\t            throw new Error('' + errorPrefix + actionName + ' action is not a function');\n\t        }\n\t\n\t        ctx[actionName] = function () {\n\t            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t                args[_key] = arguments[_key];\n\t            }\n\t\n\t            (0, _Dispatcher.dispatchDomainAction)(action, ctx, args);\n\t        };\n\t\n\t        ctx[actionName].originalLength = action.length || action.originalLength;\n\t    });\n\t\n\t    ctx._actionNames = actionNames; //legacy TODO remove\n\t    ctx.actions = function () {\n\t        return actionNames;\n\t    };\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tvar isRunning = false;\n\tvar queue = [];\n\tvar errorPrefix = 'Immview::Dispatcher: ';\n\t\n\tvar PRIORITY_EXT = 0;\n\tvar PRIORITY_DOMAIN = 1;\n\tvar PRIORITY_DATA_WRITE = 2;\n\tvar PRIORITY_DATA_CONSUMING = 3;\n\t\n\tvar Dispatcher = {\n\t    dispatch: dispatchExternal,\n\t\n\t    tick: function tick(func) {\n\t        func();\n\t    },\n\t\n\t    rejectContext: rejectContext,\n\t\n\t    logger: console\n\t};\n\t\n\texports.default = Dispatcher;\n\texports.Dispatcher = Dispatcher;\n\texports.dispatch = dispatch;\n\texports.dispatchDomainAction = dispatchDomainAction;\n\texports.dispatchDataWrite = dispatchDataWrite;\n\texports.dispatchDataConsume = dispatchDataConsume;\n\texports.dispatchExternal = dispatchExternal;\n\texports.rejectContext = rejectContext;\n\t\n\t/**\n\t * Execute first action of current queue\n\t */\n\t\n\tfunction runFirstQueuedItem() {\n\t    var task = shiftFromQueue();\n\t    if (task) {\n\t        var context = task.context;\n\t        var action = task.action;\n\t        var args = task.args;\n\t\n\t        action && action.apply(context, args);\n\t    }\n\t}\n\t\n\tfunction shiftFromQueue() {\n\t    var toRun = findMaxPriority();\n\t    queue.splice(queue.indexOf(toRun), 1);\n\t    return toRun;\n\t}\n\t\n\tfunction findMaxPriority() {\n\t    var maxPriority = -1;\n\t    var firstOfPriority = null;\n\t    for (var i = 0; i < queue.length; i++) {\n\t        var jobPriority = queue[i].priority;\n\t        if (jobPriority > maxPriority) {\n\t            firstOfPriority = queue[i];\n\t            maxPriority = jobPriority;\n\t        }\n\t    }\n\t    return firstOfPriority;\n\t}\n\t\n\t/**\n\t * Append new action onto end of the queue\n\t * @param {Function} action\n\t * @param {*} context\n\t * @param {Array.<*>} args\n\t * @param {number} priority (higher number - sooner execution)\n\t */\n\tfunction appendToQueue(action) {\n\t    var context = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t    var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\t    var priority = arguments.length <= 3 || arguments[3] === undefined ? PRIORITY_EXT : arguments[3];\n\t\n\t    queue.push({\n\t        priority: priority,\n\t        action: action,\n\t        context: context,\n\t        args: args\n\t    });\n\t}\n\t\n\tfunction dispatchDomainAction(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_DOMAIN);\n\t}\n\t\n\tfunction dispatchDataWrite(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_DATA_WRITE);\n\t}\n\t\n\tfunction dispatchDataConsume(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_DATA_CONSUMING);\n\t}\n\t\n\tfunction dispatchExternal(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_EXT);\n\t}\n\t\n\t/**\n\t * Place provided function on a queue and run it as soon as possible\n\t * @param {function} action\n\t * @param {*} [context]\n\t * @param {Array.<*>} [args]\n\t * @param {number} [priority=0] priority for dispatched action.\n\t */\n\tfunction dispatch(action, context, args, priority) {\n\t    appendToQueue(action, context, args, priority);\n\t    startQueue();\n\t}\n\t\n\t/**\n\t * Starts executing the queue\n\t */\n\tfunction startQueue() {\n\t    if (isRunning) {\n\t        return;\n\t    }\n\t\n\t    if (queue.length > 0) {\n\t        isRunning = true;\n\t        Dispatcher.tick(function () {\n\t            try {\n\t                runFirstQueuedItem();\n\t            } catch (e) {\n\t                logError(e);\n\t            }\n\t            isRunning = false;\n\t            startQueue();\n\t        });\n\t    }\n\t}\n\t\n\tfunction logError(e) {\n\t    Dispatcher.logger.error(errorPrefix + 'Error occured while running a function');\n\t    if ((typeof e === 'undefined' ? 'undefined' : _typeof(e)) === 'object') {\n\t        if (e.stack) {\n\t            Dispatcher.logger.error(e.stack);\n\t        } else {\n\t            Dispatcher.logger.error(e.name, e.message);\n\t        }\n\t    } else {\n\t        Dispatcher.logger.error(e);\n\t    }\n\t}\n\t\n\t/**\n\t * Removes all queued actions tied with a context\n\t * @param context\n\t */\n\tfunction rejectContext(context) {\n\t    queue = queue.filter(function (item) {\n\t        return item.context !== context;\n\t    });\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Data;\n\t\n\tvar _Dispatcher = __webpack_require__(2);\n\t\n\tvar _Reactor = __webpack_require__(4);\n\t\n\tvar _Reactor2 = _interopRequireDefault(_Reactor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Data(initialData) {\n\t    _Reactor2.default.call(this);\n\t\n\t    this._linkTo(null);\n\t    this._digest(initialData);\n\t}\n\t\n\tData.prototype = Object.create(_Reactor2.default.prototype);\n\t\n\t/**\n\t * Dispatch a change instruction to the Data\n\t * @param {Iterable|function(data: Iterable):Iterable} change\n\t */\n\tData.prototype.write = function (change) {\n\t    var _this = this;\n\t\n\t    (0, _Dispatcher.dispatchDataWrite)(function () {\n\t        if (_this.closed) {\n\t            return;\n\t        }\n\t        if (typeof change === 'function') {\n\t            _this._digest(change(_this.read()));\n\t        } else {\n\t            _this._digest(change);\n\t        }\n\t    }, this);\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Reactor;\n\t\n\tvar _immutable = __webpack_require__(5);\n\t\n\tvar _Digest = __webpack_require__(6);\n\t\n\tvar Digest = _interopRequireWildcard(_Digest);\n\t\n\tvar _Dispatcher = __webpack_require__(2);\n\t\n\tvar Dispatcher = _interopRequireWildcard(_Dispatcher);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\t/**\n\t * Reactor is an base class for all immview observables\n\t * @constructor\n\t */\n\tfunction Reactor() {\n\t    /**\n\t     * @private\n\t     * @type {Function[]}\n\t     */\n\t    this._reactors = [];\n\t    /**\n\t     * @public\n\t     * @type {boolean}\n\t     */\n\t    this.closed = false;\n\t}\n\t\n\tReactor.prototype = {\n\t    read: function read() {\n\t        return this.structure;\n\t    },\n\t\n\t    /**\n\t     * Registers new connection between new observables\n\t     * @protected\n\t     * @param {Reactor|Domain} sourceNode\n\t     */\n\t    _linkTo: function _linkTo(sourceNode) {\n\t        Digest.link(sourceNode && (sourceNode.stream ? sourceNode.stream : sourceNode), this);\n\t    },\n\t\n\t    /**\n\t     * Unregisters connections between observables\n\t     * @protected\n\t     */\n\t    _unlink: function _unlink() {\n\t        Digest.unlink(this);\n\t    },\n\t\n\t    /**\n\t     * Defers a digestion with a function\n\t     * that can be relaced\n\t     * without any data loss\n\t     * @protected\n\t     * @param {*|null|undefined} data\n\t     * @optional\n\t     * @param {function()|null} chew\n\t     */\n\t    _consume: function _consume(data) {\n\t        var _this = this;\n\t\n\t        var chew = arguments.length <= 1 || arguments[1] === undefined ? identity : arguments[1];\n\t\n\t        Digest.queue(this, function () {\n\t            return _this._digest(chew(data));\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Replace current state and push data further\n\t     * @param {*|null|undefined} data\n\t     */\n\t    _digest: function _digest(data) {\n\t        if (shouldStructureBeReplaced(this.structure, data)) {\n\t            this.structure = data;\n\t            this._flush(data);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Pushes data to all listeners\n\t     * @param data\n\t     * @private\n\t     */\n\t    _flush: function _flush(data) {\n\t        this._reactors.forEach(function (reaction) {\n\t            return reaction(data);\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Registers a function that is going to be fed with new data pushing by this observable\n\t     * @param {function} reaction\n\t     * @returns {function()}\n\t     */\n\t    appendReactor: function appendReactor(reaction) {\n\t        var _this2 = this;\n\t\n\t        if (this._reactors.indexOf(reaction) < 0) {\n\t            this._reactors.push(reaction);\n\t        }\n\t        return function () {\n\t            _this2._reactors = _this2._reactors.filter(function (registeredReaction) {\n\t                return registeredReaction !== reaction;\n\t            });\n\t        };\n\t    },\n\t\n\t    /**\n\t     * Registers a function that is going to be fed with new data pushing by this observable.\n\t     * Will launch provided function immediately.\n\t     * @param {function} reaction\n\t     * @returns {function()}\n\t     */\n\t    subscribe: function subscribe(reaction) {\n\t        reaction(this.read());\n\t        return this.appendReactor(reaction);\n\t    },\n\t    destroy: function destroy() {\n\t        Dispatcher.rejectContext(this);\n\t        this._unlink();\n\t        this.structure = null;\n\t        this._reactors = [];\n\t        Object.defineProperty ? Object.defineProperty(this, 'closed', { value: true, writable: false }) : this.closed = true;\n\t    },\n\t    map: function map(processor) {\n\t        var View = __webpack_require__(9).default;\n\t        return new View(this, processor);\n\t    },\n\t    debounce: function debounce(timeout) {\n\t        var Debounce = __webpack_require__(11).default;\n\t        return new Debounce(this, timeout);\n\t    },\n\t    throttle: function throttle(timeout) {\n\t        var Throttle = __webpack_require__(12).default;\n\t        return new Throttle(this, timeout);\n\t    },\n\t    scan: function scan(valuesToRemember, initialValue) {\n\t        var Scan = __webpack_require__(13).default;\n\t        return new Scan(this, valuesToRemember, initialValue);\n\t    }\n\t};\n\t\n\tfunction shouldStructureBeReplaced(structure, candidate) {\n\t    return hasValue(candidate) && (!hasValue(structure) || !(0, _immutable.is)(candidate, structure));\n\t}\n\t\n\tfunction hasValue(v) {\n\t    return v !== undefined && v !== null;\n\t}\n\t\n\tfunction identity(v) {\n\t    return v;\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.link = link;\n\texports.unlink = unlink;\n\texports.queue = queue;\n\t\n\tvar _Schedule = __webpack_require__(7);\n\t\n\tvar Schedule = _interopRequireWildcard(_Schedule);\n\t\n\tvar _Dispatcher = __webpack_require__(2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar digestEdges = [];\n\t\n\tvar digestSchedule = [];\n\t\n\tfunction link(source, target) {\n\t    setGraph(getGraph().concat([[source, target]]));\n\t}\n\t\n\tfunction unlink(item) {\n\t    setGraph(getGraph().filter(function (_ref) {\n\t        var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t        var source = _ref2[0];\n\t        var target = _ref2[1];\n\t        return source !== item && target !== item;\n\t    }));\n\t}\n\t\n\tfunction queue(node, job) {\n\t    (0, _Dispatcher.dispatchDataConsume)(function () {\n\t        setSchedule(Schedule.scheduleJob(node, job, getSchedule()));\n\t        processQueue();\n\t    });\n\t}\n\t\n\tfunction processQueue() {\n\t    (0, _Dispatcher.dispatchDataWrite)(executeNextJob);\n\t}\n\t\n\tfunction getGraph() {\n\t    return digestEdges;\n\t}\n\t\n\tfunction setGraph(edges) {\n\t    digestEdges = edges;\n\t    setSchedule(restoreNodesJobs(digestEdges, getSchedule()));\n\t}\n\t\n\tfunction restoreNodesJobs(newEdges, currentSchedule) {\n\t    var digestJobMap = Schedule.createSchedule(newEdges);\n\t    return Schedule.copyQueueOntoSchedule(currentSchedule, digestJobMap);\n\t}\n\t\n\tfunction executeNextJob() {\n\t    if (Schedule.scheduleLength(getSchedule()) > 0) {\n\t        setSchedule(Schedule.runScheduledPriorityJob(getSchedule()));\n\t        (0, _Dispatcher.dispatchDataWrite)(executeNextJob);\n\t    }\n\t}\n\t\n\tfunction getSchedule() {\n\t    return digestSchedule;\n\t}\n\t\n\tfunction setSchedule(schedule) {\n\t    digestSchedule = schedule;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.createSchedule = createSchedule;\n\texports.scheduleJob = scheduleJob;\n\texports.scheduleLength = scheduleLength;\n\texports.findJob = findJob;\n\texports.copyQueueOntoSchedule = copyQueueOntoSchedule;\n\texports.runScheduledPriorityJob = runScheduledPriorityJob;\n\t\n\tvar _Graph = __webpack_require__(8);\n\t\n\tvar Graph = _interopRequireWildcard(_Graph);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction createSchedule(graph) {\n\t    return Graph.getOrder(graph).reduce(function (jobMap, node) {\n\t        jobMap.unshift([node, null]);\n\t        return jobMap;\n\t    }, []);\n\t}\n\t\n\tfunction scheduleJob(node, nodeNewJob, currentDigestSchedule) {\n\t    var newSchedule = [];\n\t    for (var i = 0; i < currentDigestSchedule.length; i++) {\n\t        var entry = currentDigestSchedule[i];\n\t        var currentNode = entry[0];\n\t        if (currentNode === node) {\n\t            newSchedule.push([currentNode, nodeNewJob]);\n\t        } else {\n\t            newSchedule.push(entry);\n\t        }\n\t    }\n\t    return newSchedule;\n\t}\n\t\n\tfunction scheduleLength(schedule) {\n\t    var length = 0;\n\t    for (var i = 0; i < schedule.length; i++) {\n\t        length += !!schedule[i][1] | 0;\n\t    }\n\t    return length;\n\t}\n\t\n\tfunction findJob(queue, node) {\n\t    for (var i = 0; i < queue.length; i++) {\n\t        if (queue[i][0] === node) {\n\t            return queue[i][1];\n\t        }\n\t    }\n\t    return null;\n\t}\n\t\n\tfunction copyQueueOntoSchedule(source, target) {\n\t    var result = [].concat(target);\n\t    for (var i = 0; i < source.length; i++) {\n\t        var sourceEntry = source[i];\n\t        var sourceEntryNode = sourceEntry[0];\n\t        var sourceEntryJob = sourceEntry[1];\n\t\n\t        if (sourceEntryJob) {\n\t            for (var j = 0; j < result.length; j++) {\n\t                var targetEntry = result[j];\n\t                var targetEntryNode = targetEntry[0];\n\t                if (targetEntryNode === sourceEntryNode) {\n\t                    result[j] = sourceEntry;\n\t                }\n\t            }\n\t        }\n\t    }\n\t    return result;\n\t}\n\t\n\tfunction runScheduledPriorityJob(schedule) {\n\t    var currentJob = null;\n\t    var restOfJobs = [].concat(schedule);\n\t    for (var i = 0; i < schedule.length; i++) {\n\t        var entry = schedule[i];\n\t        var node = entry[0];\n\t        var job = entry[1];\n\t        if (job) {\n\t            currentJob = job;\n\t            restOfJobs[i] = [node, null];\n\t            break;\n\t        }\n\t    };\n\t    if (currentJob) {\n\t        currentJob();\n\t    }\n\t    return restOfJobs;\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getOrder = getOrder;\n\texports.getAllNodes = getAllNodes;\n\texports.getOrderStartingFromNode = getOrderStartingFromNode;\n\texports.getNodeChildren = getNodeChildren;\n\t/**\n\t * Returns nodes order from last node to root element(s)\n\t * @param edges\n\t * @returns {Array}\n\t */\n\tfunction getOrder(edges) {\n\t    var result = getAllNodes(edges).reduce(function (currentResult, node) {\n\t        if (isIn(currentResult.visited, node)) {\n\t            return currentResult;\n\t        }\n\t        return getOrderStartingFromNode(edges, node, currentResult);\n\t    }, {\n\t        visited: [],\n\t        stack: []\n\t    });\n\t    return result.stack;\n\t}\n\t\n\tfunction getAllNodes(edges) {\n\t    return edges.reduce(function (result, edge) {\n\t        if (result.indexOf(edge[0]) < 0) {\n\t            result.push(edge[0]);\n\t        }\n\t        if (result.indexOf(edge[1]) < 0) {\n\t            result.push(edge[1]);\n\t        }\n\t        return result;\n\t    }, []);\n\t}\n\t\n\tfunction getOrderStartingFromNode(edges, node, visitedNodesResult) {\n\t    var childNodesResult = getNodeChildren(edges, node).reduce(function (currentResult, childNode) {\n\t        if (isIn(currentResult.visited, childNode)) {\n\t            return currentResult;\n\t        }\n\t        return getOrderStartingFromNode(edges, childNode, currentResult);\n\t    }, {\n\t        visited: visitedNodesResult.visited.concat([node]),\n\t        stack: visitedNodesResult.stack\n\t    });\n\t    var givenNodeResult = {\n\t        visited: childNodesResult.visited,\n\t        stack: childNodesResult.stack.concat([node])\n\t    };\n\t    return givenNodeResult;\n\t}\n\t\n\tfunction isIn(list, element) {\n\t    return list.indexOf(element) >= 0;\n\t}\n\t\n\tfunction getNodeChildren(edges, node) {\n\t    return edges.filter(function (edge) {\n\t        return edge[0] === node;\n\t    }).map(function (edge) {\n\t        return edge[1];\n\t    });\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = View;\n\t\n\tvar _ViewMergeMap = __webpack_require__(10);\n\t\n\tvar _ViewMergeMap2 = _interopRequireDefault(_ViewMergeMap);\n\t\n\tvar _Reactor = __webpack_require__(4);\n\t\n\tvar _Reactor2 = _interopRequireDefault(_Reactor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tvar errorPrefix = 'Immview::View: ';\n\t\n\tfunction View(source) {\n\t    var process = arguments.length <= 1 || arguments[1] === undefined ? identity : arguments[1];\n\t\n\t    _Reactor2.default.call(this);\n\t\n\t    if (source && (typeof source === 'undefined' ? 'undefined' : _typeof(source)) === 'object') {\n\t        if (source.subscribe) {\n\t            this.unsubs = connectToSource(this, source, process);\n\t        } else {\n\t            this.unsubs = connectToMultipleSources(this, source, process);\n\t        }\n\t        return;\n\t    }\n\t    throw new Error(errorPrefix + 'No sources to plug in');\n\t}\n\t\n\tView.prototype = Object.create(_Reactor2.default.prototype);\n\t\n\tView.prototype.destroy = function destroyView() {\n\t    _Reactor2.default.prototype.destroy.call(this);\n\t\n\t    if (this.unsubs) {\n\t        this.unsubs.forEach(function (func) {\n\t            return func();\n\t        });\n\t    }\n\t\n\t    this.unsubs = null;\n\t};\n\t\n\tfunction identity(data) {\n\t    return data;\n\t}\n\t\n\tfunction connectToSource(aView, source, process) {\n\t    aView._linkTo(source);\n\t    aView._digest(process(source.read()));\n\t    return [source.appendReactor(function (data) {\n\t        return aView._consume(data, process);\n\t    })];\n\t}\n\t\n\tfunction connectToMultipleSources(aView, sources, process) {\n\t    // initialize as a map{string:Iterable}\n\t    var mergedStructure = new _ViewMergeMap2.default();\n\t\n\t    var sourcesNames = Object.keys(sources);\n\t\n\t    // prefill mergedStructure before launching subscriptions\n\t    sourcesNames.forEach(function (sourceName) {\n\t        var source = sources[sourceName];\n\t        aView._linkTo(source);\n\t        var sourceData = source.read();\n\t        mergedStructure = mergedStructure.set(sourceName, sourceData);\n\t    });\n\t\n\t    // subscribe to all data changes in parent views\n\t    var unsubs = sourcesNames.map(function (sourceName) {\n\t        return sources[sourceName].appendReactor(function (data) {\n\t            mergedStructure = mergedStructure.set(sourceName, data);\n\t            aView._consume(mergedStructure.clone(), process);\n\t        });\n\t    });\n\t\n\t    aView._digest(process(mergedStructure.clone()));\n\t\n\t    return unsubs;\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = ViewMergeMap;\n\t\n\tfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\t/*\n\tReason to have this class is to support existing code\n\tthat expects that product of merging different streams with View\n\tis a Immutable.js Map therefore has at least basic interface of Immutable.js\n\t\n\tShould not be officially documented removed in few next versions\n\t */\n\t\n\tfunction ViewMergeMap(initialObject) {\n\t    for (var prop in initialObject) {\n\t        if (Object.prototype.hasOwnProperty.call(initialObject, prop)) {\n\t            this[prop] = initialObject[prop];\n\t        }\n\t    }\n\t}\n\t\n\tViewMergeMap.prototype = {\n\t    clone: function clone() {\n\t        return new ViewMergeMap(this);\n\t    },\n\t\n\t    /**\n\t     * Sets a value on new instance and returns it\n\t     * @param {string} prop\n\t     * @param {*} value\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    set: function set(prop, value) {\n\t        var anotherInstance = new ViewMergeMap(this);\n\t        anotherInstance[prop] = value;\n\t        return anotherInstance;\n\t    },\n\t\n\t    /**\n\t     * Returns stored value\n\t     * @param {string} prop\n\t     * @returns {*}\n\t     */\n\t    get: function get(prop) {\n\t        return this[prop];\n\t    },\n\t\n\t    /**\n\t     * Creates new ViewMergeMap\n\t     * @param processor\n\t     * @param context\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    map: function map(processor) {\n\t        var context = arguments.length <= 1 || arguments[1] === undefined ? this : arguments[1];\n\t\n\t        var result = new ViewMergeMap();\n\t        for (var prop in this) {\n\t            if (Object.prototype.hasOwnProperty.call(this, prop)) {\n\t                result[prop] = processor.call(context, this[prop]);\n\t            }\n\t        }\n\t        return result;\n\t    },\n\t\n\t    /**\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    toJS: function toJS() {\n\t        return this.map(function (v) {\n\t            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object' && typeof v.toJS === 'function') {\n\t                return v.toJS();\n\t            }\n\t            return v;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    toObject: function toObject() {\n\t        return this;\n\t    },\n\t\n\t    /**\n\t     * Gets a value stored deeply in Immutable.js structures placed inside ViewMergeMap instance\n\t     * @param {Array.<string>} props\n\t     * @param {*} defaultValue\n\t     * @returns {*}\n\t     */\n\t    getIn: function getIn() {\n\t        var _ref = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t        var _ref2 = _toArray(_ref);\n\t\n\t        var prop = _ref2[0];\n\t\n\t        var otherProps = _ref2.slice(1);\n\t\n\t        var defaultValue = arguments[1];\n\t\n\t        if (otherProps.length) {\n\t            return this.get(prop).getIn(otherProps, defaultValue);\n\t        }\n\t        return this.get(prop) === undefined ? defaultValue : this.get(prop);\n\t    },\n\t\n\t    /**\n\t     * Sets a value deeply in Immutable.js structures placed inside ViewMergeMap instance\n\t     * @param {Array.<string>} props\n\t     * @param newValue\n\t     * @returns {*|ViewMergeMap}\n\t     */\n\t    setIn: function setIn() {\n\t        var _ref3 = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t        var _ref4 = _toArray(_ref3);\n\t\n\t        var prop = _ref4[0];\n\t\n\t        var otherProps = _ref4.slice(1);\n\t\n\t        var newValue = arguments[1];\n\t\n\t        if (otherProps.length) {\n\t            return this.set(prop, (this.get(prop) || new ViewMergeMap()).setIn(otherProps, newValue));\n\t        }\n\t        return this.set(prop, newValue);\n\t    }\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Debounce;\n\t\n\tvar _Reactor = __webpack_require__(4);\n\t\n\tvar _Reactor2 = _interopRequireDefault(_Reactor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar errorPrefix = 'Immview::Debounce: ';\n\t\n\tfunction Debounce(source) {\n\t    var _this = this;\n\t\n\t    var timeout = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    _Reactor2.default.call(this);\n\t\n\t    if (!(source && source.subscribe)) {\n\t        throw new Error(errorPrefix + 'incorrect source');\n\t    }\n\t\n\t    this._linkTo(source);\n\t\n\t    this.timeoutID = null;\n\t    this._digest(source.read());\n\t    this.subscription = source.appendReactor(function (data) {\n\t        if (_this.timeoutID) {\n\t            clearTimeout(_this.timeoutID);\n\t        }\n\t        _this.timeoutID = setTimeout(function () {\n\t            _this.timeoutID = null;\n\t            _this._consume(data);\n\t        }, timeout);\n\t    });\n\t}\n\t\n\tDebounce.prototype = Object.create(_Reactor2.default.prototype);\n\t\n\tDebounce.prototype.destroy = function () {\n\t    if (this.timeoutID) {\n\t        clearTimeout(this.timeoutID);\n\t        this.timeoutID = null;\n\t    }\n\t    if (this.subscription) {\n\t        this.subscription();\n\t    }\n\t    _Reactor2.default.prototype.destroy.call(this);\n\t};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Throttle;\n\t\n\tvar _Reactor = __webpack_require__(4);\n\t\n\tvar _Reactor2 = _interopRequireDefault(_Reactor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar errorPrefix = 'Immview::Throttle: ';\n\t\n\tfunction Throttle(source) {\n\t    var _this = this;\n\t\n\t    var timeout = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    _Reactor2.default.call(this);\n\t\n\t    if (!(source && source.subscribe)) {\n\t        throw new Error(errorPrefix + 'incorrect source');\n\t    }\n\t\n\t    this._linkTo(source);\n\t    this.timeoutID = null;\n\t    this.timeoutedData = null;\n\t    this._digest(source.read());\n\t    this.subscription = source.appendReactor(function (data) {\n\t        _this.timeoutedData = data;\n\t        if (!_this.timeoutID) {\n\t            _this.timeoutID = setTimeout(function () {\n\t                _this.timeoutID = null;\n\t                _this._consume(_this.timeoutedData);\n\t            }, timeout);\n\t        }\n\t    });\n\t}\n\t\n\tThrottle.prototype = Object.create(_Reactor2.default.prototype);\n\t\n\tThrottle.prototype.destroy = function () {\n\t    if (this.timeoutID) {\n\t        clearTimeout(this.timeoutID);\n\t        this.timeoutID = null;\n\t    }\n\t    if (this.subscription) {\n\t        this.subscription();\n\t    }\n\t    _Reactor2.default.prototype.destroy.call(this);\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Scan;\n\t\n\tvar _Reactor = __webpack_require__(4);\n\t\n\tvar _Reactor2 = _interopRequireDefault(_Reactor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Scan(source) {\n\t    var _this = this;\n\t\n\t    var valuesToRemember = arguments.length <= 1 || arguments[1] === undefined ? 2 : arguments[1];\n\t    var initialValue = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t    _Reactor2.default.apply(this);\n\t\n\t    this._linkTo(source);\n\t\n\t    var history = pushToHistory(premadeHistory(initialValue, valuesToRemember), valuesToRemember, source.read());\n\t    this._digest(history);\n\t\n\t    this.unsubscribe = source.appendReactor(function (sourceData) {\n\t        history = pushToHistory(history, valuesToRemember, sourceData);\n\t        _this._consume(history);\n\t    });\n\t}\n\t\n\tScan.prototype = Object.create(_Reactor2.default.prototype);\n\t\n\tScan.prototype.read = function () {\n\t    return [].concat(_Reactor2.default.prototype.read.apply(this));\n\t};\n\t\n\tScan.prototype.destroy = function () {\n\t    _Reactor2.default.prototype.destroy.apply(this);\n\t\n\t    if (this.unsubscribe) {\n\t        this.unsubscribe();\n\t        this.unsubscribe = null;\n\t    }\n\t};\n\t\n\tfunction premadeHistory(initialValue, valuesToRemember) {\n\t    if (initialValue === null) {\n\t        return [];\n\t    }\n\t    var steps = [];\n\t    for (var i = 0; i < valuesToRemember; i++) {\n\t        steps.push(initialValue);\n\t    }\n\t    return steps;\n\t}\n\t\n\tfunction pushToHistory(history, valuesToRemember, newValue) {\n\t    var newHistory = history.slice(-1 * valuesToRemember + 1);\n\t    newHistory.push(newValue);\n\t    return newHistory;\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** immview.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9feb5c7d0228a7bec1dd\n **/","import Domain from './Domain.js';\nimport Data from './Data.js';\nimport View from './View.js';\nimport Debounce from './Debounce.js';\nimport Throttle from './Throttle.js';\nimport Scan from './Scan.js';\nimport {\n    Dispatcher,\n    dispatch,\n} from './Dispatcher';\n\nexport {\n    Data,\n    View,\n    Domain,\n    Debounce,\n    Throttle,\n    Scan,\n    Dispatcher,\n    dispatch,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import {\n    dispatchDomainAction,\n    rejectContext,\n} from './Dispatcher.js';\n\nconst noop = () => null;\n\nconst errorPrefix = 'Immview::Domain: ';\n\n/**\n * Create a domain holding a view\n * @param {Reactor} stream\n * @optional\n * @param {Object.<function>} actions\n */\nexport default function Domain(stream, actions) {\n    if (!stream.subscribe) {\n        throw new Error(`${errorPrefix} stream source required`);\n    }\n    this.stream = stream;\n    assignActions(this, actions);\n}\n\nDomain.prototype = {\n    /**\n     * Retrieve last value on stream attached to the Domain\n     * @returns {Iterable}\n     */\n    read() {\n        return this.stream.read();\n    },\n\n    // WRITE ?\n    // no write method now and in the future\n    // as it would encourage developers\n    // to modify domain data\n    // outside of the domain scope\n\n    /**\n     * Create a new stream from a stream attached to the Domain\n     * @param {function(Iterable)} nextProcessor\n     * @returns {View}\n     */\n    map(nextProcessor) {\n        return this.stream.map(nextProcessor);\n    },\n\n    /**\n     * Create a new stream that will not trigger its subscriptions\n     * until given amount of miliseconds will pass from last call\n     * @param {number} timeout\n     * @returns {Debounce}\n     */\n    debounce(timeout) {\n        return this.stream.debounce(timeout);\n    },\n\n    /**\n     * Create a new stream\n     * that will not trigger its subscriptions immediately,\n     * but defers updates for a number of miliseconds\n     * provided with timeout argument\n     * after first call\n     * @param {number} timeout\n     * @returns {Throttle}\n     */\n    throttle(timeout) {\n        return this.stream.throttle(timeout);\n    },\n\n    scan(valuesToRemember, initialValue) {\n        return this.stream.scan(valuesToRemember, initialValue);\n    },\n\n    /**\n     * Register a listener to changes on data stream.\n     * Calls provided method upon registration.\n     * @param reaction\n     * @returns {function()} unsubscribe\n     */\n    subscribe(reaction) {\n        return this.stream.subscribe(reaction);\n    },\n\n    /**\n     * Register a listener to changes on data stream.\n     * @param reaction\n     * @returns {function()} unsubscribe\n     */\n    appendReactor(reaction) {\n        return this.stream.appendReactor(reaction);\n    },\n\n    /**\n     * Remove all subscriptions caused by the domain.\n     * Destroy stream attached to it.\n     * Cancel all currently dispatched actions.\n     */\n    destroy() {\n        // destroy and unmount a structure\n        this.stream.destroy();\n        this.stream = null;\n\n        // remove all queued actions\n        rejectContext(this);\n\n        // unmount all domain methods\n        this._actionNames.forEach((actionName) => {\n            this[actionName] = noop;\n        });\n        this._actionNames = null;\n    },\n};\n\nfunction assignActions(ctx, actions) {\n    if (!actions) {\n        ctx.actions = () => [];\n        return;\n    }\n    const actionNames = Object.keys(actions);\n\n    actionNames.forEach((actionName) => {\n        const action = actions[actionName];\n\n        if (ctx[actionName] !== undefined) {\n            throw new Error(`${errorPrefix}${actionName} is reserved for Domain interface`);\n        }\n\n        if (typeof action !== 'function') {\n            throw new Error(`${errorPrefix}${actionName} action is not a function`);\n        }\n\n        ctx[actionName] = (...args) => {\n            dispatchDomainAction(action, ctx, args);\n        };\n\n        ctx[actionName].originalLength = action.length || action.originalLength;\n    });\n\n    ctx._actionNames = actionNames; //legacy TODO remove\n    ctx.actions = () => actionNames;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Domain.js\n **/","let isRunning = false;\nlet queue = [];\nconst errorPrefix = 'Immview::Dispatcher: ';\n\nconst PRIORITY_EXT = 0;\nconst PRIORITY_DOMAIN = 1;\nconst PRIORITY_DATA_WRITE = 2;\nconst PRIORITY_DATA_CONSUMING = 3;\n\nconst Dispatcher = {\n    dispatch: dispatchExternal,\n\n    tick(func) {\n        func();\n    },\n\n    rejectContext,\n\n    logger: console,\n};\n\nexport {\n    Dispatcher as default,\n    Dispatcher,\n    dispatch,\n    dispatchDomainAction,\n    dispatchDataWrite,\n    dispatchDataConsume,\n    dispatchExternal,\n    rejectContext,\n};\n\n/**\n * Execute first action of current queue\n */\nfunction runFirstQueuedItem() {\n    const task = shiftFromQueue();\n    if (task) {\n        const {\n            context,\n            action,\n            args,\n        } = task;\n        action && action.apply(context, args);\n    }\n}\n\nfunction shiftFromQueue() {\n    const toRun = findMaxPriority();\n    queue.splice(\n        queue.indexOf(toRun),\n        1\n    );\n    return toRun;\n}\n\nfunction findMaxPriority() {\n    let maxPriority = -1;\n    let firstOfPriority = null;\n    for (let i = 0; i < queue.length; i++) {\n        const jobPriority = queue[i].priority;\n        if (jobPriority > maxPriority) {\n            firstOfPriority = queue[i];\n            maxPriority = jobPriority;\n        }\n    }\n    return firstOfPriority;\n}\n\n/**\n * Append new action onto end of the queue\n * @param {Function} action\n * @param {*} context\n * @param {Array.<*>} args\n * @param {number} priority (higher number - sooner execution)\n */\nfunction appendToQueue(action, context = null, args = [], priority = PRIORITY_EXT) {\n    queue.push({\n        priority,\n        action,\n        context,\n        args,\n    });\n}\n\nfunction dispatchDomainAction(action, context, args) {\n    dispatch(action, context, args, PRIORITY_DOMAIN);\n}\n\nfunction dispatchDataWrite(action, context, args) {\n    dispatch(action, context, args, PRIORITY_DATA_WRITE);\n}\n\nfunction dispatchDataConsume(action, context, args) {\n    dispatch(action, context, args, PRIORITY_DATA_CONSUMING);\n}\n\nfunction dispatchExternal(action, context, args) {\n    dispatch(action, context, args, PRIORITY_EXT);\n}\n\n/**\n * Place provided function on a queue and run it as soon as possible\n * @param {function} action\n * @param {*} [context]\n * @param {Array.<*>} [args]\n * @param {number} [priority=0] priority for dispatched action.\n */\nfunction dispatch(action, context, args, priority) {\n    appendToQueue(action, context, args, priority);\n    startQueue();\n}\n\n/**\n * Starts executing the queue\n */\nfunction startQueue() {\n    if (isRunning) {\n        return;\n    }\n\n    if (queue.length > 0) {\n        isRunning = true;\n        Dispatcher.tick(() => {\n            try {\n                runFirstQueuedItem();\n            } catch (e) {\n                logError(e);\n            }\n            isRunning = false;\n            startQueue();\n        });\n    }\n}\n\nfunction logError(e) {\n    Dispatcher.logger.error(`${errorPrefix}Error occured while running a function`);\n    if (typeof e === 'object') {\n        if (e.stack) {\n            Dispatcher.logger.error(e.stack);\n        } else {\n            Dispatcher.logger.error(e.name, e.message);\n        }\n    } else {\n        Dispatcher.logger.error(e);\n    }\n}\n\n/**\n * Removes all queued actions tied with a context\n * @param context\n */\nfunction rejectContext(context) {\n    queue = queue.filter(item => item.context !== context);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Dispatcher.js\n **/","import { dispatchDataWrite } from './Dispatcher';\nimport Reactor from './Reactor.js';\n\nexport default function Data(initialData) {\n    Reactor.call(this);\n\n    this._linkTo(null);\n    this._digest(initialData);\n}\n\nData.prototype = Object.create(Reactor.prototype);\n\n/**\n * Dispatch a change instruction to the Data\n * @param {Iterable|function(data: Iterable):Iterable} change\n */\nData.prototype.write = function (change) {\n    dispatchDataWrite(() => {\n        if (this.closed) {\n            return;\n        }\n        if (typeof change === 'function') {\n            this._digest(change(this.read()));\n        } else {\n            this._digest(change);\n        }\n    }, this);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Data.js\n **/","import {\n    is,\n} from 'immutable';\n\nimport * as Digest from './Digest';\nimport * as Dispatcher from './Dispatcher';\n\n/**\n * Reactor is an base class for all immview observables\n * @constructor\n */\nexport default function Reactor() {\n    /**\n     * @private\n     * @type {Function[]}\n     */\n    this._reactors = [];\n    /**\n     * @public\n     * @type {boolean}\n     */\n    this.closed = false;\n}\n\nReactor.prototype = {\n    read() {\n        return this.structure;\n    },\n\n    /**\n     * Registers new connection between new observables\n     * @protected\n     * @param {Reactor|Domain} sourceNode\n     */\n    _linkTo(sourceNode) {\n        Digest.link(\n            sourceNode && (sourceNode.stream ? sourceNode.stream : sourceNode),\n            this\n        );\n    },\n\n    /**\n     * Unregisters connections between observables\n     * @protected\n     */\n    _unlink() {\n        Digest.unlink(this);\n    },\n\n    /**\n     * Defers a digestion with a function\n     * that can be relaced\n     * without any data loss\n     * @protected\n     * @param {*|null|undefined} data\n     * @optional\n     * @param {function()|null} chew\n     */\n    _consume(data, chew = identity) {\n        Digest.queue(this, () => this._digest(chew(data)));\n    },\n\n    /**\n     * Replace current state and push data further\n     * @param {*|null|undefined} data\n     */\n    _digest(data) {\n        if (shouldStructureBeReplaced(this.structure, data)) {\n            this.structure = data;\n            this._flush(data);\n        }\n    },\n\n    /**\n     * Pushes data to all listeners\n     * @param data\n     * @private\n     */\n    _flush(data) {\n        this._reactors.forEach(reaction => reaction(data));\n    },\n\n    /**\n     * Registers a function that is going to be fed with new data pushing by this observable\n     * @param {function} reaction\n     * @returns {function()}\n     */\n    appendReactor(reaction) {\n        if (this._reactors.indexOf(reaction) < 0) {\n            this._reactors.push(reaction);\n        }\n        return () => {\n            this._reactors = this._reactors.filter(\n                registeredReaction => registeredReaction !== reaction\n            );\n        };\n    },\n\n    /**\n     * Registers a function that is going to be fed with new data pushing by this observable.\n     * Will launch provided function immediately.\n     * @param {function} reaction\n     * @returns {function()}\n     */\n    subscribe(reaction) {\n        reaction(this.read());\n        return this.appendReactor(reaction);\n    },\n\n    destroy() {\n        Dispatcher.rejectContext(this);\n        this._unlink();\n        this.structure = null;\n        this._reactors = [];\n        Object.defineProperty\n            ? Object.defineProperty(this, 'closed', { value: true, writable: false })\n            : this.closed = true;\n    },\n\n    map(processor) {\n        const View = require('./View.js').default;\n        return new View(this, processor);\n    },\n\n    debounce(timeout) {\n        const Debounce = require('./Debounce.js').default;\n        return new Debounce(this, timeout);\n    },\n\n    throttle(timeout) {\n        const Throttle = require('./Throttle.js').default;\n        return new Throttle(this, timeout);\n    },\n\n    scan(valuesToRemember, initialValue) {\n        const Scan = require('./Scan.js').default;\n        return new Scan(this, valuesToRemember, initialValue);\n    },\n};\n\nfunction shouldStructureBeReplaced(structure, candidate) {\n    return (\n        hasValue(candidate) && (\n            !hasValue(structure) ||\n            !is(candidate, structure)\n        )\n    );\n}\n\nfunction hasValue(v) {\n    return (\n        v !== undefined &&\n        v !== null\n    );\n}\n\nfunction identity(v) {\n    return v;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Reactor.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"immutable\"\n ** module id = 5\n ** module chunks = 0\n **/","import * as Schedule from './Schedule';\n\nimport {\n    dispatchDataWrite,\n    dispatchDataConsume,\n} from './Dispatcher';\n\nlet digestEdges = [];\n\nlet digestSchedule = [];\n\nexport function link(source, target) {\n    setGraph(getGraph().concat([[source, target]]));\n}\n\nexport function unlink(item) {\n    setGraph(getGraph().filter(([source, target]) => source !== item && target !== item));\n}\n\nexport function queue(node, job) {\n    dispatchDataConsume(\n        () => {\n            setSchedule(Schedule.scheduleJob(node, job, getSchedule()));\n            processQueue();\n        }\n    );\n}\n\nfunction processQueue() {\n    dispatchDataWrite(executeNextJob);\n}\n\nfunction getGraph() {\n    return digestEdges;\n}\n\nfunction setGraph(edges) {\n    digestEdges = edges;\n    setSchedule(restoreNodesJobs(digestEdges, getSchedule()));\n}\n\nfunction restoreNodesJobs(newEdges, currentSchedule) {\n    const digestJobMap = Schedule.createSchedule(newEdges);\n    return Schedule.copyQueueOntoSchedule(currentSchedule, digestJobMap);\n}\n\nfunction executeNextJob() {\n    if (Schedule.scheduleLength(getSchedule()) > 0) {\n        setSchedule(Schedule.runScheduledPriorityJob(getSchedule()));\n        dispatchDataWrite(executeNextJob);\n    }\n}\n\nfunction getSchedule() {\n    return digestSchedule;\n}\n\nfunction setSchedule(schedule) {\n    digestSchedule = schedule;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Digest.js\n **/","import * as Graph from './Graph.js';\n\nexport function createSchedule(graph) {\n    return Graph.getOrder(graph)\n        .reduce(\n            (jobMap, node) => {\n                jobMap.unshift([node, null]);\n                return jobMap;\n            },\n            []\n        );\n}\n\nexport function scheduleJob(node, nodeNewJob, currentDigestSchedule) {\n    const newSchedule = [];\n    for (let i = 0; i < currentDigestSchedule.length; i++) {\n        const entry = currentDigestSchedule[i];\n        const currentNode = entry[0];\n        if (currentNode === node) {\n            newSchedule.push([currentNode, nodeNewJob]);\n        } else {\n            newSchedule.push(entry);\n        }\n    }\n    return newSchedule;\n}\n\nexport function scheduleLength(schedule) {\n    let length = 0;\n    for (let i = 0; i < schedule.length; i++) {\n        length += (!!schedule[i][1]) | 0;\n    }\n    return length;\n}\n\nexport function findJob(queue, node) {\n    for (let i = 0; i < queue.length; i++) {\n        if (queue[i][0] === node) {\n            return queue[i][1];\n        }\n    }\n    return null;\n}\n\nexport function copyQueueOntoSchedule(source, target) {\n    const result = [].concat(target);\n    for (let i = 0; i < source.length; i++) {\n        const sourceEntry = source[i];\n        const sourceEntryNode = sourceEntry[0];\n        const sourceEntryJob = sourceEntry[1];\n\n        if (sourceEntryJob) {\n            for (let j = 0; j < result.length; j++) {\n                const targetEntry = result[j];\n                const targetEntryNode = targetEntry[0];\n                if (targetEntryNode === sourceEntryNode) {\n                    result[j] = sourceEntry;\n                }\n            }\n        }\n    }\n    return result;\n}\n\nexport function runScheduledPriorityJob(schedule) {\n    let currentJob = null;\n    let restOfJobs = [].concat(schedule);\n    for (let i = 0; i < schedule.length; i++) {\n        const entry = schedule[i];\n        const node = entry[0];\n        const job = entry[1];\n        if (job) {\n            currentJob = job;\n            restOfJobs[i] = [node, null];\n            break;\n        }\n    };\n    if (currentJob) {\n        currentJob();\n    }\n    return restOfJobs;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Schedule.js\n **/","/**\n * Returns nodes order from last node to root element(s)\n * @param edges\n * @returns {Array}\n */\nexport function getOrder(edges) {\n    const result = getAllNodes(edges).reduce(\n        (currentResult, node) => {\n            if (isIn(currentResult.visited, node)) {\n                return currentResult;\n            }\n            return getOrderStartingFromNode(edges, node, currentResult);\n        },\n        {\n            visited: [],\n            stack: [],\n        }\n    );\n    return result.stack;\n}\n\nexport function getAllNodes(edges) {\n    return edges.reduce(\n        (result, edge) => {\n            if (result.indexOf(edge[0]) < 0) {\n                result.push(edge[0]);\n            }\n            if (result.indexOf(edge[1]) < 0) {\n                result.push(edge[1]);\n            }\n            return result;\n        },\n        []\n    );\n}\n\nexport function getOrderStartingFromNode(edges, node, visitedNodesResult) {\n    const childNodesResult = getNodeChildren(edges, node).reduce(\n        (currentResult, childNode) => {\n            if (isIn(currentResult.visited, childNode)) {\n                return currentResult;\n            }\n            return getOrderStartingFromNode(\n                edges,\n                childNode,\n                currentResult\n            );\n        },\n        {\n            visited: visitedNodesResult.visited.concat([node]),\n            stack: visitedNodesResult.stack,\n        }\n    );\n    const givenNodeResult = {\n        visited: childNodesResult.visited,\n        stack: childNodesResult.stack.concat([node]),\n    };\n    return givenNodeResult;\n}\n\nfunction isIn(list, element) {\n    return list.indexOf(element) >= 0;\n}\n\nexport function getNodeChildren(edges, node) {\n    return edges.filter(edge => edge[0] === node).map(edge => edge[1]);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Graph.js\n **/","import ViewMergeMap from './ViewMergeMap';\nimport Reactor from './Reactor.js';\n\nconst errorPrefix = 'Immview::View: ';\n\nexport default function View(source, process = identity) {\n    Reactor.call(this);\n\n    if (source && typeof source === 'object') {\n        if (source.subscribe) {\n            this.unsubs = connectToSource(this, source, process);\n        } else {\n            this.unsubs = connectToMultipleSources(this, source, process);\n        }\n        return;\n    }\n    throw new Error(`${errorPrefix}No sources to plug in`);\n}\n\nView.prototype = Object.create(Reactor.prototype);\n\nView.prototype.destroy = function destroyView() {\n    Reactor.prototype.destroy.call(this);\n\n    if (this.unsubs) {\n        this.unsubs.forEach(func => func());\n    }\n\n    this.unsubs = null;\n};\n\nfunction identity(data) {\n    return data;\n}\n\nfunction connectToSource(aView, source, process) {\n    aView._linkTo(source);\n    aView._digest(process(source.read()));\n    return [\n        source.appendReactor(data => aView._consume(data, process)),\n    ];\n}\n\nfunction connectToMultipleSources(aView, sources, process) {\n    // initialize as a map{string:Iterable}\n    let mergedStructure = new ViewMergeMap();\n\n    const sourcesNames = Object.keys(sources);\n\n    // prefill mergedStructure before launching subscriptions\n    sourcesNames.forEach(sourceName => {\n        const source = sources[sourceName];\n        aView._linkTo(source);\n        const sourceData = source.read();\n        mergedStructure = mergedStructure.set(sourceName, sourceData);\n    });\n\n    // subscribe to all data changes in parent views\n    const unsubs = sourcesNames.map(\n        sourceName => sources[sourceName].appendReactor(\n            data => {\n                mergedStructure = mergedStructure.set(sourceName, data);\n                aView._consume(mergedStructure.clone(), process);\n            }\n        )\n    );\n\n    aView._digest(process(mergedStructure.clone()));\n\n    return unsubs;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/View.js\n **/","/*\nReason to have this class is to support existing code\nthat expects that product of merging different streams with View\nis a Immutable.js Map therefore has at least basic interface of Immutable.js\n\nShould not be officially documented removed in few next versions\n */\n\nexport default function ViewMergeMap(initialObject) {\n    for (let prop in initialObject) {\n        if (Object.prototype.hasOwnProperty.call(initialObject, prop)) {\n            this[prop] = initialObject[prop];\n        }\n    }\n}\n\nViewMergeMap.prototype = {\n    clone() {\n        return new ViewMergeMap(this);\n    },\n\n    /**\n     * Sets a value on new instance and returns it\n     * @param {string} prop\n     * @param {*} value\n     * @returns {ViewMergeMap}\n     */\n    set(prop, value) {\n        const anotherInstance = new ViewMergeMap(this);\n        anotherInstance[prop] = value;\n        return anotherInstance;\n    },\n\n    /**\n     * Returns stored value\n     * @param {string} prop\n     * @returns {*}\n     */\n    get(prop) {\n        return this[prop];\n    },\n\n    /**\n     * Creates new ViewMergeMap\n     * @param processor\n     * @param context\n     * @returns {ViewMergeMap}\n     */\n    map(processor, context = this) {\n        const result = new ViewMergeMap();\n        for (let prop in this) {\n            if (Object.prototype.hasOwnProperty.call(this, prop)) {\n                result[prop] = processor.call(context, this[prop]);\n            }\n        }\n        return result;\n    },\n\n    /**\n     * @returns {ViewMergeMap}\n     */\n    toJS() {\n        return this.map(v => {\n            if (typeof v === 'object' && typeof v.toJS === 'function') {\n                return v.toJS();\n            }\n            return v;\n        });\n    },\n\n    /**\n     * @returns {ViewMergeMap}\n     */\n    toObject() {\n        return this;\n    },\n\n    /**\n     * Gets a value stored deeply in Immutable.js structures placed inside ViewMergeMap instance\n     * @param {Array.<string>} props\n     * @param {*} defaultValue\n     * @returns {*}\n     */\n    getIn([prop, ...otherProps] = [], defaultValue) {\n        if (otherProps.length) {\n            return this.get(prop).getIn(otherProps, defaultValue);\n        }\n        return (\n            this.get(prop) === undefined\n                ? defaultValue\n                : this.get(prop)\n        );\n    },\n\n    /**\n     * Sets a value deeply in Immutable.js structures placed inside ViewMergeMap instance\n     * @param {Array.<string>} props\n     * @param newValue\n     * @returns {*|ViewMergeMap}\n     */\n    setIn([prop, ...otherProps] = [], newValue) {\n        if (otherProps.length) {\n            return this.set(\n                prop,\n                (this.get(prop) || new ViewMergeMap()).setIn(otherProps, newValue)\n            );\n        }\n        return this.set(prop, newValue);\n    },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ViewMergeMap.js\n **/","import Reactor from './Reactor.js';\n\nconst errorPrefix = 'Immview::Debounce: ';\n\nexport default function Debounce(source, timeout = 0) {\n    Reactor.call(this);\n\n    if (!(source && source.subscribe)) {\n        throw new Error(`${errorPrefix}incorrect source`);\n    }\n\n    this._linkTo(source);\n\n    this.timeoutID = null;\n    this._digest(source.read());\n    this.subscription = source.appendReactor(data => {\n        if (this.timeoutID) {\n            clearTimeout(this.timeoutID);\n        }\n        this.timeoutID = setTimeout(() => {\n            this.timeoutID = null;\n            this._consume(data);\n        }, timeout);\n    });\n}\n\nDebounce.prototype = Object.create(Reactor.prototype);\n\nDebounce.prototype.destroy = function () {\n    if (this.timeoutID) {\n        clearTimeout(this.timeoutID);\n        this.timeoutID = null;\n    }\n    if (this.subscription) {\n        this.subscription();\n    }\n    Reactor.prototype.destroy.call(this);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Debounce.js\n **/","import Reactor from './Reactor.js';\n\nconst errorPrefix = 'Immview::Throttle: ';\n\nexport default function Throttle(source, timeout = 0) {\n    Reactor.call(this);\n\n    if (!(source && source.subscribe)) {\n        throw new Error(`${errorPrefix}incorrect source`);\n    }\n\n    this._linkTo(source);\n    this.timeoutID = null;\n    this.timeoutedData = null;\n    this._digest(source.read());\n    this.subscription = source.appendReactor(data => {\n        this.timeoutedData = data;\n        if (!this.timeoutID) {\n            this.timeoutID = setTimeout(() => {\n                this.timeoutID = null;\n                this._consume(this.timeoutedData);\n            }, timeout);\n        }\n    });\n}\n\nThrottle.prototype = Object.create(Reactor.prototype);\n\nThrottle.prototype.destroy = function () {\n    if (this.timeoutID) {\n        clearTimeout(this.timeoutID);\n        this.timeoutID = null;\n    }\n    if (this.subscription) {\n        this.subscription();\n    }\n    Reactor.prototype.destroy.call(this);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Throttle.js\n **/","import Reactor from './Reactor.js';\n\nexport default function Scan(source, valuesToRemember = 2, initialValue = null) {\n    Reactor.apply(this);\n\n    this._linkTo(source);\n\n    let history = pushToHistory(\n        premadeHistory(initialValue, valuesToRemember),\n        valuesToRemember,\n        source.read()\n    );\n    this._digest(history);\n\n    this.unsubscribe = source.appendReactor(\n        sourceData => {\n            history = pushToHistory(history, valuesToRemember, sourceData);\n            this._consume(history);\n        }\n    );\n}\n\nScan.prototype = Object.create(Reactor.prototype);\n\nScan.prototype.read = function () {\n    return [].concat(Reactor.prototype.read.apply(this));\n};\n\nScan.prototype.destroy = function () {\n    Reactor.prototype.destroy.apply(this);\n\n    if (this.unsubscribe) {\n        this.unsubscribe();\n        this.unsubscribe = null;\n    }\n};\n\nfunction premadeHistory(initialValue, valuesToRemember) {\n    if (initialValue === null) {\n        return [];\n    }\n    const steps = [];\n    for (let i = 0; i < valuesToRemember; i++) {\n        steps.push(initialValue);\n    }\n    return steps;\n}\n\nfunction pushToHistory(history, valuesToRemember, newValue) {\n    const newHistory = history.slice(-1 * valuesToRemember + 1);\n    newHistory.push(newValue);\n    return newHistory;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Scan.js\n **/"],"sourceRoot":""}