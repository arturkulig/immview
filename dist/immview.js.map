{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///immview.js","webpack:///webpack/bootstrap fda5a4437cae7a667dc4","webpack:///./src/index.ts","webpack:///./src/DispatcherInstance.ts","webpack:///./src/DispatcherPriorities.ts","webpack:///./src/Observable.ts","webpack:///./src/BaseObservable.ts","webpack:///./src/BaseObservableSubscription.ts","webpack:///./src/Dispatcher.ts","webpack:///./src/Domain.action.ts","webpack:///./src/Domain.ts","webpack:///./src/Merge.ts","webpack:///./src/Origin.ts"],"names":["root","factory","exports","module","define","amd","immview","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","DispatcherInstance_1","DispatcherPriorities_1","Observable_1","Observable","Origin_1","Origin","Merge_1","Merge","Domain_1","Domain","Domain_action_1","action","dispatchExt","job","Dispatcher","push","DispatcherPriorities","EXTERNAL","dispatch","Dispatcher_1","DispatcherInstance","priority","run","dispatchPromise","Promise","resolve","reject","e","console","error","stack","message","OBSERVABLE","DOMAIN","BUFFER","TEST","__extends","d","b","__","constructor","hasOwnProperty","prototype","Object","create","BaseObservable_1","ObservableSymbol","Symbol","_super","apply","arguments","of","values","_i","length","from","observer","subscribe","next","complete","iterator","_a","result","done","value","Error","map","_this","subscription","unsubscribe","flatten","nextSource","nextSourceValue","err","scan","reductor","summary","newValue","filter","bufferCount","bufferSize","customBufferCount","bufferInterval","history","slice","splice","buffer","maxLastMessages","messages","concat","closed","reverse","BaseObservable","BaseObservableSubscription_1","SubscriptionObserver","_closed","defineProperty","get","enumerable","configurable","MessageTypes","Next","Complete","noop","subscriber","nextSubscriptions","errorSubscriptions","completionSubscriptions","lastObservablePriority","cancelSubscriber","nextValue","pushMessage","reason","last","lastValue","awaitingMessages","node","marginEntry","marginMessage","entry","onNext","onError","onCompletion","BaseObservableSubscription","disableSubscription","sub","dispatchDigestMessages","cancel","digestAwaitingMessages","popMessage","digestNodeMessage","i","_b","type","doneCallback","getValue","nextValue_1","forEach","error_1","_unsubscribe","nextTickScheduler","_isRunning","tasks","findNextJob","then","maxPriorityJobIdx","target","propertyKey","descriptor","actionPerformer","args","stream","actions","fields","instance","_loop_1","actionsKey","bind","fieldsKey","__assign","assign","t","s","n","sources","names","initialized","preinitialReceivedMessages","subscriptions","key","indexOf","initialMessage","initializedFields","repeatedPreinitialReceivedMessages","sourceName","sourceMessage","defaultValue"],"mappings":"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","file":"immview.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory();\n\telse\n\t\troot[\"immview\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory();\n\telse\n\t\troot[\"immview\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar Observable_1 = __webpack_require__(3);\n\texports.Observable = Observable_1.Observable;\n\tvar Origin_1 = __webpack_require__(10);\n\texports.Origin = Origin_1.Origin;\n\tvar Merge_1 = __webpack_require__(9);\n\texports.Merge = Merge_1.Merge;\n\tvar Domain_1 = __webpack_require__(8);\n\texports.Domain = Domain_1.Domain;\n\tvar Domain_action_1 = __webpack_require__(7);\n\texports.action = Domain_action_1.action;\n\tvar dispatchExt = function (job) {\n\t    DispatcherInstance_1.Dispatcher.push(job, DispatcherPriorities_1.DispatcherPriorities.EXTERNAL);\n\t};\n\texports.dispatch = dispatchExt;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar Dispatcher_1 = __webpack_require__(6);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar DispatcherInstance = new Dispatcher_1.Dispatcher();\n\texports.Dispatcher = DispatcherInstance;\n\tvar dispatch = function (job, priority) {\n\t    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n\t    DispatcherInstance.push(job, priority);\n\t    DispatcherInstance.run();\n\t};\n\texports.dispatch = dispatch;\n\tvar dispatchPromise = function (job, priority) {\n\t    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n\t    return new Promise(function (resolve, reject) {\n\t        dispatch(function () {\n\t            try {\n\t                resolve(job());\n\t            }\n\t            catch (e) {\n\t                console.error(e.stack || e.message || e);\n\t                reject(e);\n\t            }\n\t        }, priority);\n\t    });\n\t};\n\texports.dispatchPromise = dispatchPromise;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar DispatcherPriorities;\n\t(function (DispatcherPriorities) {\n\t    DispatcherPriorities[DispatcherPriorities[\"OBSERVABLE\"] = 1] = \"OBSERVABLE\";\n\t    DispatcherPriorities[DispatcherPriorities[\"DOMAIN\"] = 2] = \"DOMAIN\";\n\t    DispatcherPriorities[DispatcherPriorities[\"BUFFER\"] = 3] = \"BUFFER\";\n\t    DispatcherPriorities[DispatcherPriorities[\"EXTERNAL\"] = 4] = \"EXTERNAL\";\n\t    DispatcherPriorities[DispatcherPriorities[\"TEST\"] = 10] = \"TEST\";\n\t})(DispatcherPriorities = exports.DispatcherPriorities || (exports.DispatcherPriorities = {}));\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar BaseObservable_1 = __webpack_require__(4);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar ObservableSymbol = typeof Symbol !== 'undefined' ? Symbol('ObservableSymbol') : 'ObservableSymbol';\n\tvar Observable = (function (_super) {\n\t    __extends(Observable, _super);\n\t    function Observable() {\n\t        return _super.apply(this, arguments) || this;\n\t    }\n\t    Observable.of = function () {\n\t        var values = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            values[_i] = arguments[_i];\n\t        }\n\t        return Observable.from(values);\n\t    };\n\t    Observable.from = function (values) {\n\t        if (values[ObservableSymbol]) {\n\t            return new Observable(function (observer) {\n\t                values[ObservableSymbol]().subscribe(observer.next, observer.error, observer.complete);\n\t            });\n\t        }\n\t        if (values[Symbol.iterator]) {\n\t            return new Observable(function (_a) {\n\t                var next = _a.next, error = _a.error, complete = _a.complete;\n\t                var iterator = values[Symbol.iterator]();\n\t                for (var result = iterator.next(); result.done === false; result = iterator.next()) {\n\t                    result.value instanceof Error\n\t                        ? error(result.value)\n\t                        : next(result.value);\n\t                }\n\t                complete();\n\t            });\n\t        }\n\t        throw new Error('Observable.from incorrect input');\n\t    };\n\t    Observable.prototype.map = function (action) {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (value) {\n\t                try {\n\t                    observer.next(action(value));\n\t                }\n\t                catch (e) {\n\t                    observer.error(e);\n\t                }\n\t            }, observer.error, observer.complete);\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.flatten = function () {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            _this.subscribe(function (nextSource) {\n\t                nextSource && nextSource.subscribe(function (nextSourceValue) {\n\t                    observer.next(nextSourceValue);\n\t                }, function (err) { return observer.error(err); });\n\t            }, observer.error, observer.complete);\n\t        });\n\t    };\n\t    Observable.prototype.scan = function (reductor) {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            var summary = null;\n\t            var subscription = _this.subscribe(function (value) {\n\t                var newValue;\n\t                try {\n\t                    newValue = summary\n\t                        ? reductor(value, summary)\n\t                        : value;\n\t                    summary = newValue;\n\t                }\n\t                catch (e) {\n\t                    observer.error(e);\n\t                }\n\t                observer.next(newValue);\n\t            }, observer.error, observer.complete);\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.filter = function (filter) {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (value) {\n\t                try {\n\t                    filter(value) && observer.next(value);\n\t                }\n\t                catch (e) {\n\t                    observer.error(e);\n\t                }\n\t            }, observer.error, observer.complete);\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.bufferCount = function (bufferSize, customBufferCount) {\n\t        var _this = this;\n\t        if (customBufferCount === void 0) { customBufferCount = null; }\n\t        var bufferInterval = customBufferCount || bufferSize;\n\t        var history = [];\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (value) {\n\t                history.push(value);\n\t                if (history.length === bufferSize) {\n\t                    observer.next(history.slice());\n\t                    history = history.splice(bufferInterval, bufferSize - bufferInterval);\n\t                }\n\t            }, observer.error, function () {\n\t                if (history.length > bufferSize - bufferInterval) {\n\t                    observer.next(history.slice());\n\t                }\n\t                observer.complete();\n\t            });\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.buffer = function (maxLastMessages) {\n\t        var _this = this;\n\t        if (maxLastMessages === void 0) { maxLastMessages = 0; }\n\t        var messages = [];\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (message) {\n\t                messages = maxLastMessages > 0\n\t                    ? [message].concat(messages).splice(0, maxLastMessages)\n\t                    : [message].concat(messages);\n\t                DispatcherInstance_1.Dispatcher\n\t                    .push(function () {\n\t                    if (messages.length < 1)\n\t                        return;\n\t                    if (observer.closed)\n\t                        return;\n\t                    observer.next(messages\n\t                        .splice(0, messages.length)\n\t                        .reverse());\n\t                }, DispatcherPriorities_1.DispatcherPriorities.BUFFER)\n\t                    .run();\n\t            }, observer.error, function () {\n\t                if (messages.length > 0) {\n\t                    observer.next(messages\n\t                        .splice(0, messages.length)\n\t                        .reverse());\n\t                }\n\t                observer.complete();\n\t            });\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    return Observable;\n\t}(BaseObservable_1.BaseObservable));\n\texports.Observable = Observable;\n\tObservable.prototype[ObservableSymbol] = function () { return this; };\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar BaseObservableSubscription_1 = __webpack_require__(5);\n\tvar SubscriptionObserver = (function () {\n\t    function SubscriptionObserver(next, error, complete, _closed) {\n\t        this.next = next;\n\t        this.error = error;\n\t        this.complete = complete;\n\t        this._closed = _closed;\n\t    }\n\t    Object.defineProperty(SubscriptionObserver.prototype, \"closed\", {\n\t        get: function () {\n\t            return this._closed();\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return SubscriptionObserver;\n\t}());\n\texports.SubscriptionObserver = SubscriptionObserver;\n\tvar MessageTypes;\n\t(function (MessageTypes) {\n\t    MessageTypes[MessageTypes[\"Next\"] = 0] = \"Next\";\n\t    MessageTypes[MessageTypes[\"Error\"] = 1] = \"Error\";\n\t    MessageTypes[MessageTypes[\"Complete\"] = 2] = \"Complete\";\n\t})(MessageTypes = exports.MessageTypes || (exports.MessageTypes = {}));\n\tvar noop = function () { };\n\tvar BaseObservable = (function () {\n\t    function BaseObservable(subscriber) {\n\t        var _this = this;\n\t        this.closed = false;\n\t        this.nextSubscriptions = [];\n\t        this.errorSubscriptions = [];\n\t        this.completionSubscriptions = [];\n\t        this.priority = BaseObservable.lastObservablePriority++;\n\t        this.cancelSubscriber = (subscriber &&\n\t            subscriber(new SubscriptionObserver(function (nextValue) {\n\t                if (_this.closed)\n\t                    return;\n\t                _this.pushMessage([MessageTypes.Next, typeof nextValue === 'function' ? nextValue : function () { return nextValue; }, noop]);\n\t            }, function (reason) {\n\t                if (_this.closed)\n\t                    return;\n\t                _this.pushMessage([MessageTypes.Error, reason, noop]);\n\t            }, function () {\n\t                if (_this.closed)\n\t                    return;\n\t                _this.pushMessage([MessageTypes.Complete, , noop]);\n\t            }, function () {\n\t                return _this.closed;\n\t            }))) || noop;\n\t    }\n\t    BaseObservable.prototype.last = function () {\n\t        var _this = this;\n\t        if (this.lastValue)\n\t            return this.lastValue;\n\t        if (this.nextSubscriptions.length > 0)\n\t            return this.lastValue;\n\t        var messages = BaseObservable.awaitingMessages.filter(function (_a) {\n\t            var node = _a[0], message = _a[1];\n\t            return node === _this;\n\t        });\n\t        if (messages.length === 0)\n\t            return;\n\t        var marginEntry = messages[0];\n\t        var marginMessage = marginEntry[1];\n\t        if (marginMessage[0] === MessageTypes.Next) {\n\t            BaseObservable.awaitingMessages = BaseObservable.awaitingMessages.filter(function (entry) { return entry !== marginEntry; });\n\t            return (this.lastValue = marginMessage[1](this.lastValue));\n\t        }\n\t    };\n\t    BaseObservable.prototype.subscribe = function (onNext, onError, onCompletion) {\n\t        var _this = this;\n\t        if (this.closed) {\n\t            return new BaseObservableSubscription_1.BaseObservableSubscription(null);\n\t        }\n\t        var disableSubscription = function () {\n\t            subscription.unsubscribe();\n\t            _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== disableSubscription; });\n\t        };\n\t        this.completionSubscriptions.push(disableSubscription);\n\t        if (onNext) {\n\t            this.nextSubscriptions.push(onNext);\n\t        }\n\t        if (onError) {\n\t            this.errorSubscriptions.push(onError);\n\t        }\n\t        if (onCompletion) {\n\t            this.completionSubscriptions.push(onCompletion);\n\t        }\n\t        var subscription = new BaseObservableSubscription_1.BaseObservableSubscription(function () {\n\t            if (onNext) {\n\t                _this.nextSubscriptions = _this.nextSubscriptions.filter(function (sub) { return sub !== onNext; });\n\t            }\n\t            if (onError) {\n\t                _this.errorSubscriptions = _this.errorSubscriptions.filter(function (sub) { return sub !== onError; });\n\t            }\n\t            if (onCompletion) {\n\t                _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== onCompletion; });\n\t            }\n\t        });\n\t        BaseObservable.dispatchDigestMessages();\n\t        return subscription;\n\t    };\n\t    BaseObservable.prototype.cancel = function () {\n\t        this.pushMessage([MessageTypes.Complete, , noop]);\n\t    };\n\t    BaseObservable.prototype.pushMessage = function (message) {\n\t        BaseObservable.awaitingMessages.push([this, message]);\n\t        BaseObservable.dispatchDigestMessages();\n\t    };\n\t    BaseObservable.dispatchDigestMessages = function () {\n\t        DispatcherInstance_1.dispatch(BaseObservable.digestAwaitingMessages, DispatcherPriorities_1.DispatcherPriorities.OBSERVABLE);\n\t    };\n\t    BaseObservable.digestAwaitingMessages = function () {\n\t        var _a = BaseObservable.popMessage(), node = _a[0], message = _a[1];\n\t        if (!node) {\n\t            return;\n\t        }\n\t        BaseObservable.digestNodeMessage(node, message);\n\t        BaseObservable.dispatchDigestMessages();\n\t    };\n\t    BaseObservable.popMessage = function () {\n\t        if (BaseObservable.awaitingMessages.length === 0) {\n\t            return [null, null];\n\t        }\n\t        for (var i = 0; i < BaseObservable.awaitingMessages.length; i++) {\n\t            var _a = BaseObservable.awaitingMessages[i], _b = _a[0], node = _b === void 0 ? null : _b, message = _a[1];\n\t            if (message[0] === MessageTypes.Next && !node.nextSubscriptions.length)\n\t                continue;\n\t            if (message[0] === MessageTypes.Error && !node.errorSubscriptions.length)\n\t                continue;\n\t            if (message[0] === MessageTypes.Complete && !node.completionSubscriptions.length)\n\t                continue;\n\t            BaseObservable.awaitingMessages.splice(i, 1);\n\t            return [node, message];\n\t        }\n\t        return [null, null];\n\t    };\n\t    BaseObservable.digestNodeMessage = function (node, message) {\n\t        if (!node.closed) {\n\t            var type = message[0], doneCallback = message[2];\n\t            if (type === MessageTypes.Next) {\n\t                var _a = message, getValue = _a[1];\n\t                var nextValue_1 = getValue(node.lastValue);\n\t                node.lastValue = nextValue_1;\n\t                node.nextSubscriptions.forEach(function (sub) { return sub(nextValue_1); });\n\t            }\n\t            else if (type === MessageTypes.Error) {\n\t                var _b = message, error_1 = _b[1];\n\t                node.errorSubscriptions.forEach(function (sub) { return sub(error_1); });\n\t            }\n\t            else if (type === MessageTypes.Complete) {\n\t                node.cancelSubscriber();\n\t                node.cancelSubscriber = noop;\n\t                node.closed = true;\n\t                node.completionSubscriptions.forEach(function (sub) { return sub(); });\n\t            }\n\t            doneCallback();\n\t        }\n\t    };\n\t    return BaseObservable;\n\t}());\n\tBaseObservable.awaitingMessages = [];\n\tBaseObservable.lastObservablePriority = 0;\n\texports.BaseObservable = BaseObservable;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar BaseObservableSubscription = (function () {\n\t    function BaseObservableSubscription(_unsubscribe) {\n\t        this._unsubscribe = _unsubscribe;\n\t    }\n\t    Object.defineProperty(BaseObservableSubscription.prototype, \"closed\", {\n\t        get: function () {\n\t            return !this._unsubscribe;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    BaseObservableSubscription.prototype.unsubscribe = function () {\n\t        var _unsubscribe = this._unsubscribe;\n\t        this._unsubscribe = null;\n\t        _unsubscribe && _unsubscribe();\n\t    };\n\t    return BaseObservableSubscription;\n\t}());\n\texports.BaseObservableSubscription = BaseObservableSubscription;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Dispatcher = (function () {\n\t    function Dispatcher() {\n\t        this.nextTickScheduler = null;\n\t        this._isRunning = false;\n\t        this.tasks = [];\n\t    }\n\t    Object.defineProperty(Dispatcher.prototype, \"isRunning\", {\n\t        get: function () {\n\t            return !!this._isRunning;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Dispatcher.prototype.push = function (job, priority) {\n\t        if (priority === void 0) { priority = 0; }\n\t        this.tasks.push({\n\t            priority: priority,\n\t            job: job,\n\t        });\n\t        return this;\n\t    };\n\t    Dispatcher.prototype.run = function () {\n\t        var _this = this;\n\t        if (this._isRunning)\n\t            return;\n\t        this._isRunning = true;\n\t        var job = this.findNextJob();\n\t        if (!job) {\n\t            this.nextTickScheduler = null;\n\t            this._isRunning = false;\n\t            return;\n\t        }\n\t        (this.nextTickScheduler = this.nextTickScheduler || Promise.resolve())\n\t            .then(function () {\n\t            _this.next(function () {\n\t                try {\n\t                    job.job();\n\t                }\n\t                catch (e) {\n\t                    console.error(e.stack || e.message || e);\n\t                }\n\t            }, function () {\n\t                _this._isRunning = false;\n\t                _this.run();\n\t            });\n\t        });\n\t    };\n\t    Dispatcher.prototype.findNextJob = function () {\n\t        var maxPriorityJobIdx = null;\n\t        for (var i = 0; i < this.tasks.length; i++) {\n\t            if (maxPriorityJobIdx === null ||\n\t                this.tasks[i].priority < this.tasks[maxPriorityJobIdx].priority) {\n\t                maxPriorityJobIdx = i;\n\t            }\n\t        }\n\t        if (maxPriorityJobIdx === null)\n\t            return null;\n\t        return this.tasks.splice(maxPriorityJobIdx, 1)[0];\n\t    };\n\t    /*\n\t     * Function can be replaced with a custom implementation\n\t     * for integrating different scheduling strategy\n\t     */\n\t    Dispatcher.prototype.next = function (job, next) {\n\t        job();\n\t        next();\n\t    };\n\t    return Dispatcher;\n\t}());\n\texports.Dispatcher = Dispatcher;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tfunction action(target, propertyKey, descriptor) {\n\t    var actionPerformer = descriptor.value;\n\t    descriptor.value = function () {\n\t        var _this = this;\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        return DispatcherInstance_1.dispatchPromise(function () { actionPerformer.apply(_this, args); }, DispatcherPriorities_1.DispatcherPriorities.DOMAIN);\n\t    };\n\t}\n\texports.action = action;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Observable_1 = __webpack_require__(3);\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar Domain = (function (_super) {\n\t    __extends(Domain, _super);\n\t    function Domain(stream) {\n\t        return _super.call(this, function (observer) {\n\t            stream.subscribe(observer.next, observer.error, observer.complete);\n\t        }) || this;\n\t    }\n\t    Domain.create = function (stream, actions, fields) {\n\t        var instance = new Domain(stream);\n\t        if (actions) {\n\t            var _loop_1 = function (actionsKey) {\n\t                if (!Object.prototype.hasOwnProperty.call(actions, actionsKey)) {\n\t                    return \"continue\";\n\t                }\n\t                instance[actionsKey] =\n\t                    function () {\n\t                        var args = [];\n\t                        for (var _i = 0; _i < arguments.length; _i++) {\n\t                            args[_i] = arguments[_i];\n\t                        }\n\t                        return DispatcherInstance_1.dispatchPromise((_a = actions[actionsKey]).bind.apply(_a, [instance].concat(args)));\n\t                        var _a;\n\t                    };\n\t            };\n\t            for (var actionsKey in actions) {\n\t                _loop_1(actionsKey);\n\t            }\n\t        }\n\t        if (fields) {\n\t            for (var fieldsKey in fields) {\n\t                if (!Object.prototype.hasOwnProperty.call(fields, fieldsKey)) {\n\t                    continue;\n\t                }\n\t                instance[fieldsKey] = fields[fieldsKey];\n\t            }\n\t        }\n\t        return instance;\n\t    };\n\t    return Domain;\n\t}(Observable_1.Observable));\n\texports.Domain = Domain;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar __assign = (this && this.__assign) || Object.assign || function(t) {\n\t    for (var s, i = 1, n = arguments.length; i < n; i++) {\n\t        s = arguments[i];\n\t        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n\t            t[p] = s[p];\n\t    }\n\t    return t;\n\t};\n\tvar Observable_1 = __webpack_require__(3);\n\tvar Merge = (function (_super) {\n\t    __extends(Merge, _super);\n\t    function Merge(sources) {\n\t        return _super.call(this, function (observer) {\n\t            var names = [];\n\t            var initialized = [];\n\t            var preinitialReceivedMessages = [];\n\t            var result = {};\n\t            var subscriptions = [];\n\t            var _loop_1 = function (key) {\n\t                if (!Object.prototype.hasOwnProperty.call(sources, key))\n\t                    return \"continue\";\n\t                names.push(key);\n\t                subscriptions.push(sources[key].subscribe(function (nextSourceValue) {\n\t                    preinitialReceivedMessages && preinitialReceivedMessages.push([key, nextSourceValue]);\n\t                    if (initialized.indexOf(key) < 0) {\n\t                        initialized.push(key);\n\t                    }\n\t                    if (names.length !== initialized.length) {\n\t                        return;\n\t                    }\n\t                    if (preinitialReceivedMessages) {\n\t                        var initialMessage = {};\n\t                        var initializedFields = [];\n\t                        var repeatedPreinitialReceivedMessages = [];\n\t                        for (var i = 0; i < preinitialReceivedMessages.length; i++) {\n\t                            if (initializedFields.indexOf(preinitialReceivedMessages[i][0]) < 0) {\n\t                                var _a = preinitialReceivedMessages[i], sourceName = _a[0], sourceMessage = _a[1];\n\t                                initialMessage[sourceName] = sourceMessage;\n\t                                initializedFields.push(sourceName);\n\t                            }\n\t                            else {\n\t                                repeatedPreinitialReceivedMessages.push(preinitialReceivedMessages[i]);\n\t                            }\n\t                        }\n\t                        observer.next(result = initialMessage);\n\t                        repeatedPreinitialReceivedMessages.forEach(function (_a) {\n\t                            var sourceName = _a[0], sourceMessage = _a[1];\n\t                            observer.next(result = __assign({}, result, (_b = {}, _b[sourceName] = sourceMessage, _b)));\n\t                            var _b;\n\t                        });\n\t                        preinitialReceivedMessages = null;\n\t                        return;\n\t                    }\n\t                    observer.next(result = __assign({}, result, (_b = {}, _b[key] = nextSourceValue, _b)));\n\t                    var _b;\n\t                }));\n\t            };\n\t            for (var key in sources) {\n\t                _loop_1(key);\n\t            }\n\t            return function () {\n\t                subscriptions.forEach(function (subscription) { return subscription(); });\n\t            };\n\t        }) || this;\n\t    }\n\t    return Merge;\n\t}(Observable_1.Observable));\n\texports.Merge = Merge;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar BaseObservable_1 = __webpack_require__(4);\n\tvar Observable_1 = __webpack_require__(3);\n\tvar Origin = (function (_super) {\n\t    __extends(Origin, _super);\n\t    function Origin(defaultValue) {\n\t        var _this = _super.call(this, function (observer) { observer.next(defaultValue); }) || this;\n\t        _this.lastValue = defaultValue;\n\t        return _this;\n\t    }\n\t    Origin.prototype.push = function (nextValue) {\n\t        var _this = this;\n\t        return new Promise(function (resolve) {\n\t            _this.pushMessage([\n\t                BaseObservable_1.MessageTypes.Next,\n\t                (typeof nextValue === 'function')\n\t                    ? nextValue\n\t                    : (function () { return nextValue; }),\n\t                resolve\n\t            ]);\n\t        });\n\t    };\n\t    return Origin;\n\t}(Observable_1.Observable));\n\texports.Origin = Origin;\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// immview.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fda5a4437cae7a667dc4","\"use strict\";\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar Observable_1 = require(\"./Observable\");\nexports.Observable = Observable_1.Observable;\nvar Origin_1 = require(\"./Origin\");\nexports.Origin = Origin_1.Origin;\nvar Merge_1 = require(\"./Merge\");\nexports.Merge = Merge_1.Merge;\nvar Domain_1 = require(\"./Domain\");\nexports.Domain = Domain_1.Domain;\nvar Domain_action_1 = require(\"./Domain.action\");\nexports.action = Domain_action_1.action;\nvar dispatchExt = function (job) {\n    DispatcherInstance_1.Dispatcher.push(job, DispatcherPriorities_1.DispatcherPriorities.EXTERNAL);\n};\nexports.dispatch = dispatchExt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.ts\n// module id = 0\n// module chunks = 0","\"use strict\";\nvar Dispatcher_1 = require(\"./Dispatcher\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar DispatcherInstance = new Dispatcher_1.Dispatcher();\nexports.Dispatcher = DispatcherInstance;\nvar dispatch = function (job, priority) {\n    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n    DispatcherInstance.push(job, priority);\n    DispatcherInstance.run();\n};\nexports.dispatch = dispatch;\nvar dispatchPromise = function (job, priority) {\n    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n    return new Promise(function (resolve, reject) {\n        dispatch(function () {\n            try {\n                resolve(job());\n            }\n            catch (e) {\n                console.error(e.stack || e.message || e);\n                reject(e);\n            }\n        }, priority);\n    });\n};\nexports.dispatchPromise = dispatchPromise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/DispatcherInstance.ts\n// module id = 1\n// module chunks = 0","\"use strict\";\nvar DispatcherPriorities;\n(function (DispatcherPriorities) {\n    DispatcherPriorities[DispatcherPriorities[\"OBSERVABLE\"] = 1] = \"OBSERVABLE\";\n    DispatcherPriorities[DispatcherPriorities[\"DOMAIN\"] = 2] = \"DOMAIN\";\n    DispatcherPriorities[DispatcherPriorities[\"BUFFER\"] = 3] = \"BUFFER\";\n    DispatcherPriorities[DispatcherPriorities[\"EXTERNAL\"] = 4] = \"EXTERNAL\";\n    DispatcherPriorities[DispatcherPriorities[\"TEST\"] = 10] = \"TEST\";\n})(DispatcherPriorities = exports.DispatcherPriorities || (exports.DispatcherPriorities = {}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/DispatcherPriorities.ts\n// module id = 2\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar BaseObservable_1 = require(\"./BaseObservable\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar ObservableSymbol = typeof Symbol !== 'undefined' ? Symbol('ObservableSymbol') : 'ObservableSymbol';\nvar Observable = (function (_super) {\n    __extends(Observable, _super);\n    function Observable() {\n        return _super.apply(this, arguments) || this;\n    }\n    Observable.of = function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            values[_i] = arguments[_i];\n        }\n        return Observable.from(values);\n    };\n    Observable.from = function (values) {\n        if (values[ObservableSymbol]) {\n            return new Observable(function (observer) {\n                values[ObservableSymbol]().subscribe(observer.next, observer.error, observer.complete);\n            });\n        }\n        if (values[Symbol.iterator]) {\n            return new Observable(function (_a) {\n                var next = _a.next, error = _a.error, complete = _a.complete;\n                var iterator = values[Symbol.iterator]();\n                for (var result = iterator.next(); result.done === false; result = iterator.next()) {\n                    result.value instanceof Error\n                        ? error(result.value)\n                        : next(result.value);\n                }\n                complete();\n            });\n        }\n        throw new Error('Observable.from incorrect input');\n    };\n    Observable.prototype.map = function (action) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (value) {\n                try {\n                    observer.next(action(value));\n                }\n                catch (e) {\n                    observer.error(e);\n                }\n            }, observer.error, observer.complete);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.flatten = function () {\n        var _this = this;\n        return new Observable(function (observer) {\n            _this.subscribe(function (nextSource) {\n                nextSource && nextSource.subscribe(function (nextSourceValue) {\n                    observer.next(nextSourceValue);\n                }, function (err) { return observer.error(err); });\n            }, observer.error, observer.complete);\n        });\n    };\n    Observable.prototype.scan = function (reductor) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var summary = null;\n            var subscription = _this.subscribe(function (value) {\n                var newValue;\n                try {\n                    newValue = summary\n                        ? reductor(value, summary)\n                        : value;\n                    summary = newValue;\n                }\n                catch (e) {\n                    observer.error(e);\n                }\n                observer.next(newValue);\n            }, observer.error, observer.complete);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.filter = function (filter) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (value) {\n                try {\n                    filter(value) && observer.next(value);\n                }\n                catch (e) {\n                    observer.error(e);\n                }\n            }, observer.error, observer.complete);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.bufferCount = function (bufferSize, customBufferCount) {\n        var _this = this;\n        if (customBufferCount === void 0) { customBufferCount = null; }\n        var bufferInterval = customBufferCount || bufferSize;\n        var history = [];\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (value) {\n                history.push(value);\n                if (history.length === bufferSize) {\n                    observer.next(history.slice());\n                    history = history.splice(bufferInterval, bufferSize - bufferInterval);\n                }\n            }, observer.error, function () {\n                if (history.length > bufferSize - bufferInterval) {\n                    observer.next(history.slice());\n                }\n                observer.complete();\n            });\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.buffer = function (maxLastMessages) {\n        var _this = this;\n        if (maxLastMessages === void 0) { maxLastMessages = 0; }\n        var messages = [];\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (message) {\n                messages = maxLastMessages > 0\n                    ? [message].concat(messages).splice(0, maxLastMessages)\n                    : [message].concat(messages);\n                DispatcherInstance_1.Dispatcher\n                    .push(function () {\n                    if (messages.length < 1)\n                        return;\n                    if (observer.closed)\n                        return;\n                    observer.next(messages\n                        .splice(0, messages.length)\n                        .reverse());\n                }, DispatcherPriorities_1.DispatcherPriorities.BUFFER)\n                    .run();\n            }, observer.error, function () {\n                if (messages.length > 0) {\n                    observer.next(messages\n                        .splice(0, messages.length)\n                        .reverse());\n                }\n                observer.complete();\n            });\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    return Observable;\n}(BaseObservable_1.BaseObservable));\nexports.Observable = Observable;\nObservable.prototype[ObservableSymbol] = function () { return this; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Observable.ts\n// module id = 3\n// module chunks = 0","\"use strict\";\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar BaseObservableSubscription_1 = require(\"./BaseObservableSubscription\");\nvar SubscriptionObserver = (function () {\n    function SubscriptionObserver(next, error, complete, _closed) {\n        this.next = next;\n        this.error = error;\n        this.complete = complete;\n        this._closed = _closed;\n    }\n    Object.defineProperty(SubscriptionObserver.prototype, \"closed\", {\n        get: function () {\n            return this._closed();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SubscriptionObserver;\n}());\nexports.SubscriptionObserver = SubscriptionObserver;\nvar MessageTypes;\n(function (MessageTypes) {\n    MessageTypes[MessageTypes[\"Next\"] = 0] = \"Next\";\n    MessageTypes[MessageTypes[\"Error\"] = 1] = \"Error\";\n    MessageTypes[MessageTypes[\"Complete\"] = 2] = \"Complete\";\n})(MessageTypes = exports.MessageTypes || (exports.MessageTypes = {}));\nvar noop = function () { };\nvar BaseObservable = (function () {\n    function BaseObservable(subscriber) {\n        var _this = this;\n        this.closed = false;\n        this.nextSubscriptions = [];\n        this.errorSubscriptions = [];\n        this.completionSubscriptions = [];\n        this.priority = BaseObservable.lastObservablePriority++;\n        this.cancelSubscriber = (subscriber &&\n            subscriber(new SubscriptionObserver(function (nextValue) {\n                if (_this.closed)\n                    return;\n                _this.pushMessage([MessageTypes.Next, typeof nextValue === 'function' ? nextValue : function () { return nextValue; }, noop]);\n            }, function (reason) {\n                if (_this.closed)\n                    return;\n                _this.pushMessage([MessageTypes.Error, reason, noop]);\n            }, function () {\n                if (_this.closed)\n                    return;\n                _this.pushMessage([MessageTypes.Complete, , noop]);\n            }, function () {\n                return _this.closed;\n            }))) || noop;\n    }\n    BaseObservable.prototype.last = function () {\n        var _this = this;\n        if (this.lastValue)\n            return this.lastValue;\n        if (this.nextSubscriptions.length > 0)\n            return this.lastValue;\n        var messages = BaseObservable.awaitingMessages.filter(function (_a) {\n            var node = _a[0], message = _a[1];\n            return node === _this;\n        });\n        if (messages.length === 0)\n            return;\n        var marginEntry = messages[0];\n        var marginMessage = marginEntry[1];\n        if (marginMessage[0] === MessageTypes.Next) {\n            BaseObservable.awaitingMessages = BaseObservable.awaitingMessages.filter(function (entry) { return entry !== marginEntry; });\n            return (this.lastValue = marginMessage[1](this.lastValue));\n        }\n    };\n    BaseObservable.prototype.subscribe = function (onNext, onError, onCompletion) {\n        var _this = this;\n        if (this.closed) {\n            return new BaseObservableSubscription_1.BaseObservableSubscription(null);\n        }\n        var disableSubscription = function () {\n            subscription.unsubscribe();\n            _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== disableSubscription; });\n        };\n        this.completionSubscriptions.push(disableSubscription);\n        if (onNext) {\n            this.nextSubscriptions.push(onNext);\n        }\n        if (onError) {\n            this.errorSubscriptions.push(onError);\n        }\n        if (onCompletion) {\n            this.completionSubscriptions.push(onCompletion);\n        }\n        var subscription = new BaseObservableSubscription_1.BaseObservableSubscription(function () {\n            if (onNext) {\n                _this.nextSubscriptions = _this.nextSubscriptions.filter(function (sub) { return sub !== onNext; });\n            }\n            if (onError) {\n                _this.errorSubscriptions = _this.errorSubscriptions.filter(function (sub) { return sub !== onError; });\n            }\n            if (onCompletion) {\n                _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== onCompletion; });\n            }\n        });\n        BaseObservable.dispatchDigestMessages();\n        return subscription;\n    };\n    BaseObservable.prototype.cancel = function () {\n        this.pushMessage([MessageTypes.Complete, , noop]);\n    };\n    BaseObservable.prototype.pushMessage = function (message) {\n        BaseObservable.awaitingMessages.push([this, message]);\n        BaseObservable.dispatchDigestMessages();\n    };\n    BaseObservable.dispatchDigestMessages = function () {\n        DispatcherInstance_1.dispatch(BaseObservable.digestAwaitingMessages, DispatcherPriorities_1.DispatcherPriorities.OBSERVABLE);\n    };\n    BaseObservable.digestAwaitingMessages = function () {\n        var _a = BaseObservable.popMessage(), node = _a[0], message = _a[1];\n        if (!node) {\n            return;\n        }\n        BaseObservable.digestNodeMessage(node, message);\n        BaseObservable.dispatchDigestMessages();\n    };\n    BaseObservable.popMessage = function () {\n        if (BaseObservable.awaitingMessages.length === 0) {\n            return [null, null];\n        }\n        for (var i = 0; i < BaseObservable.awaitingMessages.length; i++) {\n            var _a = BaseObservable.awaitingMessages[i], _b = _a[0], node = _b === void 0 ? null : _b, message = _a[1];\n            if (message[0] === MessageTypes.Next && !node.nextSubscriptions.length)\n                continue;\n            if (message[0] === MessageTypes.Error && !node.errorSubscriptions.length)\n                continue;\n            if (message[0] === MessageTypes.Complete && !node.completionSubscriptions.length)\n                continue;\n            BaseObservable.awaitingMessages.splice(i, 1);\n            return [node, message];\n        }\n        return [null, null];\n    };\n    BaseObservable.digestNodeMessage = function (node, message) {\n        if (!node.closed) {\n            var type = message[0], doneCallback = message[2];\n            if (type === MessageTypes.Next) {\n                var _a = message, getValue = _a[1];\n                var nextValue_1 = getValue(node.lastValue);\n                node.lastValue = nextValue_1;\n                node.nextSubscriptions.forEach(function (sub) { return sub(nextValue_1); });\n            }\n            else if (type === MessageTypes.Error) {\n                var _b = message, error_1 = _b[1];\n                node.errorSubscriptions.forEach(function (sub) { return sub(error_1); });\n            }\n            else if (type === MessageTypes.Complete) {\n                node.cancelSubscriber();\n                node.cancelSubscriber = noop;\n                node.closed = true;\n                node.completionSubscriptions.forEach(function (sub) { return sub(); });\n            }\n            doneCallback();\n        }\n    };\n    return BaseObservable;\n}());\nBaseObservable.awaitingMessages = [];\nBaseObservable.lastObservablePriority = 0;\nexports.BaseObservable = BaseObservable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/BaseObservable.ts\n// module id = 4\n// module chunks = 0","\"use strict\";\nvar BaseObservableSubscription = (function () {\n    function BaseObservableSubscription(_unsubscribe) {\n        this._unsubscribe = _unsubscribe;\n    }\n    Object.defineProperty(BaseObservableSubscription.prototype, \"closed\", {\n        get: function () {\n            return !this._unsubscribe;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BaseObservableSubscription.prototype.unsubscribe = function () {\n        var _unsubscribe = this._unsubscribe;\n        this._unsubscribe = null;\n        _unsubscribe && _unsubscribe();\n    };\n    return BaseObservableSubscription;\n}());\nexports.BaseObservableSubscription = BaseObservableSubscription;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/BaseObservableSubscription.ts\n// module id = 5\n// module chunks = 0","\"use strict\";\nvar Dispatcher = (function () {\n    function Dispatcher() {\n        this.nextTickScheduler = null;\n        this._isRunning = false;\n        this.tasks = [];\n    }\n    Object.defineProperty(Dispatcher.prototype, \"isRunning\", {\n        get: function () {\n            return !!this._isRunning;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Dispatcher.prototype.push = function (job, priority) {\n        if (priority === void 0) { priority = 0; }\n        this.tasks.push({\n            priority: priority,\n            job: job,\n        });\n        return this;\n    };\n    Dispatcher.prototype.run = function () {\n        var _this = this;\n        if (this._isRunning)\n            return;\n        this._isRunning = true;\n        var job = this.findNextJob();\n        if (!job) {\n            this.nextTickScheduler = null;\n            this._isRunning = false;\n            return;\n        }\n        (this.nextTickScheduler = this.nextTickScheduler || Promise.resolve())\n            .then(function () {\n            _this.next(function () {\n                try {\n                    job.job();\n                }\n                catch (e) {\n                    console.error(e.stack || e.message || e);\n                }\n            }, function () {\n                _this._isRunning = false;\n                _this.run();\n            });\n        });\n    };\n    Dispatcher.prototype.findNextJob = function () {\n        var maxPriorityJobIdx = null;\n        for (var i = 0; i < this.tasks.length; i++) {\n            if (maxPriorityJobIdx === null ||\n                this.tasks[i].priority < this.tasks[maxPriorityJobIdx].priority) {\n                maxPriorityJobIdx = i;\n            }\n        }\n        if (maxPriorityJobIdx === null)\n            return null;\n        return this.tasks.splice(maxPriorityJobIdx, 1)[0];\n    };\n    /*\n     * Function can be replaced with a custom implementation\n     * for integrating different scheduling strategy\n     */\n    Dispatcher.prototype.next = function (job, next) {\n        job();\n        next();\n    };\n    return Dispatcher;\n}());\nexports.Dispatcher = Dispatcher;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Dispatcher.ts\n// module id = 6\n// module chunks = 0","\"use strict\";\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nfunction action(target, propertyKey, descriptor) {\n    var actionPerformer = descriptor.value;\n    descriptor.value = function () {\n        var _this = this;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return DispatcherInstance_1.dispatchPromise(function () { actionPerformer.apply(_this, args); }, DispatcherPriorities_1.DispatcherPriorities.DOMAIN);\n    };\n}\nexports.action = action;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Domain.action.ts\n// module id = 7\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require(\"./Observable\");\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar Domain = (function (_super) {\n    __extends(Domain, _super);\n    function Domain(stream) {\n        return _super.call(this, function (observer) {\n            stream.subscribe(observer.next, observer.error, observer.complete);\n        }) || this;\n    }\n    Domain.create = function (stream, actions, fields) {\n        var instance = new Domain(stream);\n        if (actions) {\n            var _loop_1 = function (actionsKey) {\n                if (!Object.prototype.hasOwnProperty.call(actions, actionsKey)) {\n                    return \"continue\";\n                }\n                instance[actionsKey] =\n                    function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return DispatcherInstance_1.dispatchPromise((_a = actions[actionsKey]).bind.apply(_a, [instance].concat(args)));\n                        var _a;\n                    };\n            };\n            for (var actionsKey in actions) {\n                _loop_1(actionsKey);\n            }\n        }\n        if (fields) {\n            for (var fieldsKey in fields) {\n                if (!Object.prototype.hasOwnProperty.call(fields, fieldsKey)) {\n                    continue;\n                }\n                instance[fieldsKey] = fields[fieldsKey];\n            }\n        }\n        return instance;\n    };\n    return Domain;\n}(Observable_1.Observable));\nexports.Domain = Domain;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Domain.ts\n// module id = 8\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar Observable_1 = require(\"./Observable\");\nvar Merge = (function (_super) {\n    __extends(Merge, _super);\n    function Merge(sources) {\n        return _super.call(this, function (observer) {\n            var names = [];\n            var initialized = [];\n            var preinitialReceivedMessages = [];\n            var result = {};\n            var subscriptions = [];\n            var _loop_1 = function (key) {\n                if (!Object.prototype.hasOwnProperty.call(sources, key))\n                    return \"continue\";\n                names.push(key);\n                subscriptions.push(sources[key].subscribe(function (nextSourceValue) {\n                    preinitialReceivedMessages && preinitialReceivedMessages.push([key, nextSourceValue]);\n                    if (initialized.indexOf(key) < 0) {\n                        initialized.push(key);\n                    }\n                    if (names.length !== initialized.length) {\n                        return;\n                    }\n                    if (preinitialReceivedMessages) {\n                        var initialMessage = {};\n                        var initializedFields = [];\n                        var repeatedPreinitialReceivedMessages = [];\n                        for (var i = 0; i < preinitialReceivedMessages.length; i++) {\n                            if (initializedFields.indexOf(preinitialReceivedMessages[i][0]) < 0) {\n                                var _a = preinitialReceivedMessages[i], sourceName = _a[0], sourceMessage = _a[1];\n                                initialMessage[sourceName] = sourceMessage;\n                                initializedFields.push(sourceName);\n                            }\n                            else {\n                                repeatedPreinitialReceivedMessages.push(preinitialReceivedMessages[i]);\n                            }\n                        }\n                        observer.next(result = initialMessage);\n                        repeatedPreinitialReceivedMessages.forEach(function (_a) {\n                            var sourceName = _a[0], sourceMessage = _a[1];\n                            observer.next(result = __assign({}, result, (_b = {}, _b[sourceName] = sourceMessage, _b)));\n                            var _b;\n                        });\n                        preinitialReceivedMessages = null;\n                        return;\n                    }\n                    observer.next(result = __assign({}, result, (_b = {}, _b[key] = nextSourceValue, _b)));\n                    var _b;\n                }));\n            };\n            for (var key in sources) {\n                _loop_1(key);\n            }\n            return function () {\n                subscriptions.forEach(function (subscription) { return subscription(); });\n            };\n        }) || this;\n    }\n    return Merge;\n}(Observable_1.Observable));\nexports.Merge = Merge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Merge.ts\n// module id = 9\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar BaseObservable_1 = require(\"./BaseObservable\");\nvar Observable_1 = require(\"./Observable\");\nvar Origin = (function (_super) {\n    __extends(Origin, _super);\n    function Origin(defaultValue) {\n        var _this = _super.call(this, function (observer) { observer.next(defaultValue); }) || this;\n        _this.lastValue = defaultValue;\n        return _this;\n    }\n    Origin.prototype.push = function (nextValue) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.pushMessage([\n                BaseObservable_1.MessageTypes.Next,\n                (typeof nextValue === 'function')\n                    ? nextValue\n                    : (function () { return nextValue; }),\n                resolve\n            ]);\n        });\n    };\n    return Origin;\n}(Observable_1.Observable));\nexports.Origin = Origin;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Origin.ts\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}