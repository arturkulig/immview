{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///immview.js","webpack:///webpack/bootstrap 62e6424db67aa683a123","webpack:///./src/index.ts","webpack:///./src/DispatcherInstance.ts","webpack:///./src/DispatcherPriorities.ts","webpack:///./src/Observable.ts","webpack:///./src/BaseObservable.ts","webpack:///./src/BaseObservableSubscription.ts","webpack:///./src/Data.ts","webpack:///./src/Dispatcher.ts","webpack:///./src/Domain.action.ts","webpack:///./src/Domain.ts","webpack:///./src/Merge.ts"],"names":["root","factory","exports","module","define","amd","immview","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","DispatcherInstance_1","DispatcherPriorities_1","Observable_1","Observable","Data_1","Data","Merge_1","Merge","Domain_1","Domain","Domain_action_1","action","dispatchExt","job","Dispatcher","push","DispatcherPriorities","EXTERNAL","dispatch","Dispatcher_1","DispatcherInstance","priority","run","dispatchPromise","Promise","resolve","reject","e","console","error","stack","message","OBSERVABLE","DOMAIN","BUFFER","TEST","__extends","d","b","__","constructor","hasOwnProperty","prototype","Object","create","BaseObservable_1","ObservableSymbol","Symbol","_super","apply","arguments","of","values","_i","length","from","observer","subscribe","next","complete","iterator","_a","result","done","value","Error","map","_this","subscription","closed","unsubscribe","flatMap","reduce","reductor","summary","newValue","filter","scan","scanner","historyLength","defaultValue","buffer","maxLastMessages","messages","concat","splice","reverse","BaseObservable","BaseObservableSubscription_1","SubscriptionObserver","_closed","defineProperty","get","enumerable","configurable","MessageTypes","Next","Complete","noop","subscriber","nextSubscriptions","errorSubscriptions","completionSubscriptions","lastObservablePriority","cancelSubscriber","nextValue","pushMessage","reason","last","lastValue","awaitingMessages","node","marginEntry","marginMessage","entry","onNext","onError","onCompletion","BaseObservableSubscription","disableSubscription","sub","dispatchDigestMessages","cancel","digestAwaitingMessages","popMessage","digestNodeMessage","i","_b","type","doneCallback","getValue","nextValue_1","forEach","error_1","_unsubscribe","write","nextTickScheduler","_isRunning","tasks","findNextJob","then","maxPriorityJobIdx","target","propertyKey","descriptor","actionPerformer","args","stream","actions","fields","instance","_loop_1","actionsKey","bind","fieldsKey","__assign","assign","t","s","n","sources","names","initialized","preinitialReceivedMessages","subscriptions","key","nextSourceValue","indexOf","initialMessage","initializedFields","repeatedPreinitialReceivedMessages","sourceName","sourceMessage"],"mappings":"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","file":"immview.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory();\n\telse\n\t\troot[\"immview\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory();\n\telse\n\t\troot[\"immview\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar Observable_1 = __webpack_require__(3);\n\texports.Observable = Observable_1.Observable;\n\tvar Data_1 = __webpack_require__(6);\n\texports.Data = Data_1.Data;\n\tvar Merge_1 = __webpack_require__(10);\n\texports.Merge = Merge_1.Merge;\n\tvar Domain_1 = __webpack_require__(9);\n\texports.Domain = Domain_1.Domain;\n\tvar Domain_action_1 = __webpack_require__(8);\n\texports.action = Domain_action_1.action;\n\tvar dispatchExt = function (job) {\n\t    DispatcherInstance_1.Dispatcher.push(job, DispatcherPriorities_1.DispatcherPriorities.EXTERNAL);\n\t};\n\texports.dispatch = dispatchExt;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar Dispatcher_1 = __webpack_require__(7);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar DispatcherInstance = new Dispatcher_1.Dispatcher();\n\texports.Dispatcher = DispatcherInstance;\n\tvar dispatch = function (job, priority) {\n\t    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n\t    DispatcherInstance.push(job, priority);\n\t    DispatcherInstance.run();\n\t};\n\texports.dispatch = dispatch;\n\tvar dispatchPromise = function (job, priority) {\n\t    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n\t    return new Promise(function (resolve, reject) {\n\t        dispatch(function () {\n\t            try {\n\t                resolve(job());\n\t            }\n\t            catch (e) {\n\t                console.error(e.stack || e.message || e);\n\t                reject(e);\n\t            }\n\t        }, priority);\n\t    });\n\t};\n\texports.dispatchPromise = dispatchPromise;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar DispatcherPriorities;\n\t(function (DispatcherPriorities) {\n\t    DispatcherPriorities[DispatcherPriorities[\"OBSERVABLE\"] = 1] = \"OBSERVABLE\";\n\t    DispatcherPriorities[DispatcherPriorities[\"DOMAIN\"] = 2] = \"DOMAIN\";\n\t    DispatcherPriorities[DispatcherPriorities[\"BUFFER\"] = 3] = \"BUFFER\";\n\t    DispatcherPriorities[DispatcherPriorities[\"EXTERNAL\"] = 4] = \"EXTERNAL\";\n\t    DispatcherPriorities[DispatcherPriorities[\"TEST\"] = 10] = \"TEST\";\n\t})(DispatcherPriorities = exports.DispatcherPriorities || (exports.DispatcherPriorities = {}));\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar BaseObservable_1 = __webpack_require__(4);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar ObservableSymbol = typeof Symbol !== 'undefined' ? Symbol('ObservableSymbol') : 'ObservableSymbol';\n\tvar Observable = (function (_super) {\n\t    __extends(Observable, _super);\n\t    function Observable() {\n\t        return _super.apply(this, arguments) || this;\n\t    }\n\t    Observable.of = function () {\n\t        var values = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            values[_i] = arguments[_i];\n\t        }\n\t        return Observable.from(values);\n\t    };\n\t    Observable.from = function (values) {\n\t        if (values[ObservableSymbol]) {\n\t            return new Observable(function (observer) {\n\t                values[ObservableSymbol]().subscribe(observer.next, observer.error, observer.complete);\n\t            });\n\t        }\n\t        if (values[Symbol.iterator]) {\n\t            return new Observable(function (_a) {\n\t                var next = _a.next, error = _a.error;\n\t                var iterator = values[Symbol.iterator]();\n\t                for (var result = iterator.next(); result.done === false; result = iterator.next()) {\n\t                    result.value instanceof Error\n\t                        ? error(result.value)\n\t                        : next(result.value);\n\t                }\n\t            });\n\t        }\n\t        throw new Error('Observable.from incorrect input');\n\t    };\n\t    Observable.prototype.map = function (action) {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (value) {\n\t                if (observer.closed) {\n\t                    return;\n\t                }\n\t                try {\n\t                    observer.next(action(value));\n\t                }\n\t                catch (e) {\n\t                    observer.error(e);\n\t                }\n\t            }, observer.error, observer.complete);\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.flatMap = function (action) {\n\t        throw new Error('not implemented');\n\t    };\n\t    Observable.prototype.reduce = function (reductor) {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            var summary = null;\n\t            var subscription = _this.subscribe(function (value) {\n\t                if (observer.closed) {\n\t                    return;\n\t                }\n\t                var newValue;\n\t                try {\n\t                    newValue = summary\n\t                        ? reductor(value, summary)\n\t                        : value;\n\t                    summary = newValue;\n\t                }\n\t                catch (e) {\n\t                    observer.error(e);\n\t                }\n\t                observer.next(newValue);\n\t            }, observer.error, observer.complete);\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.filter = function (filter) {\n\t        var _this = this;\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (value) {\n\t                if (observer.closed) {\n\t                    return;\n\t                }\n\t                try {\n\t                    filter(value) && observer.next(value);\n\t                }\n\t                catch (e) {\n\t                    observer.error(e);\n\t                }\n\t            }, observer.error, observer.complete);\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    Observable.prototype.scan = function (scanner, historyLength, defaultValue) {\n\t        if (historyLength === void 0) { historyLength = 2; }\n\t        if (defaultValue === void 0) { defaultValue = null; }\n\t        throw new Error('not implemented');\n\t    };\n\t    Observable.prototype.buffer = function (maxLastMessages) {\n\t        var _this = this;\n\t        if (maxLastMessages === void 0) { maxLastMessages = 0; }\n\t        var messages = [];\n\t        return new Observable(function (observer) {\n\t            var subscription = _this.subscribe(function (message) {\n\t                messages = maxLastMessages > 0\n\t                    ? [message].concat(messages).splice(0, maxLastMessages)\n\t                    : [message].concat(messages);\n\t                DispatcherInstance_1.Dispatcher\n\t                    .push(function () {\n\t                    if (messages.length < 1)\n\t                        return;\n\t                    if (observer.closed)\n\t                        return;\n\t                    observer.next(messages\n\t                        .splice(0, messages.length)\n\t                        .reverse());\n\t                }, DispatcherPriorities_1.DispatcherPriorities.BUFFER)\n\t                    .run();\n\t            }, observer.error, function () {\n\t                if (messages.length > 0) {\n\t                    observer.next(messages\n\t                        .splice(0, messages.length)\n\t                        .reverse());\n\t                }\n\t                observer.complete();\n\t            });\n\t            return function () { return subscription.unsubscribe(); };\n\t        });\n\t    };\n\t    return Observable;\n\t}(BaseObservable_1.BaseObservable));\n\texports.Observable = Observable;\n\tObservable.prototype[ObservableSymbol] = function () { return this; };\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar BaseObservableSubscription_1 = __webpack_require__(5);\n\tvar SubscriptionObserver = (function () {\n\t    function SubscriptionObserver(next, error, complete, _closed) {\n\t        this.next = next;\n\t        this.error = error;\n\t        this.complete = complete;\n\t        this._closed = _closed;\n\t    }\n\t    Object.defineProperty(SubscriptionObserver.prototype, \"closed\", {\n\t        get: function () {\n\t            return this._closed();\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return SubscriptionObserver;\n\t}());\n\texports.SubscriptionObserver = SubscriptionObserver;\n\tvar MessageTypes;\n\t(function (MessageTypes) {\n\t    MessageTypes[MessageTypes[\"Next\"] = 0] = \"Next\";\n\t    MessageTypes[MessageTypes[\"Error\"] = 1] = \"Error\";\n\t    MessageTypes[MessageTypes[\"Complete\"] = 2] = \"Complete\";\n\t})(MessageTypes = exports.MessageTypes || (exports.MessageTypes = {}));\n\tvar noop = function () { };\n\tvar BaseObservable = (function () {\n\t    function BaseObservable(subscriber) {\n\t        var _this = this;\n\t        this.closed = false;\n\t        this.nextSubscriptions = [];\n\t        this.errorSubscriptions = [];\n\t        this.completionSubscriptions = [];\n\t        this.priority = BaseObservable.lastObservablePriority++;\n\t        this.cancelSubscriber = (subscriber &&\n\t            subscriber(new SubscriptionObserver(function (nextValue) {\n\t                if (_this.closed)\n\t                    return;\n\t                _this.pushMessage([MessageTypes.Next, typeof nextValue === 'function' ? nextValue : function () { return nextValue; }, noop]);\n\t            }, function (reason) {\n\t                if (_this.closed)\n\t                    return;\n\t                _this.pushMessage([MessageTypes.Error, reason, noop]);\n\t            }, function () {\n\t                if (_this.closed)\n\t                    return;\n\t                _this.pushMessage([MessageTypes.Complete, , noop]);\n\t            }, function () {\n\t                return _this.closed;\n\t            }))) || noop;\n\t    }\n\t    BaseObservable.prototype.last = function () {\n\t        var _this = this;\n\t        if (this.lastValue)\n\t            return this.lastValue;\n\t        if (this.nextSubscriptions.length > 0)\n\t            return this.lastValue;\n\t        var messages = BaseObservable.awaitingMessages.filter(function (_a) {\n\t            var node = _a[0], message = _a[1];\n\t            return node === _this;\n\t        });\n\t        if (messages.length === 0)\n\t            return;\n\t        var marginEntry = messages[0];\n\t        var marginMessage = marginEntry[1];\n\t        if (marginMessage[0] === MessageTypes.Next) {\n\t            BaseObservable.awaitingMessages = BaseObservable.awaitingMessages.filter(function (entry) { return entry !== marginEntry; });\n\t            return (this.lastValue = marginMessage[1](this.lastValue));\n\t        }\n\t    };\n\t    BaseObservable.prototype.subscribe = function (onNext, onError, onCompletion) {\n\t        var _this = this;\n\t        if (this.closed) {\n\t            return new BaseObservableSubscription_1.BaseObservableSubscription(null);\n\t        }\n\t        var disableSubscription = function () {\n\t            subscription.unsubscribe();\n\t            _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== disableSubscription; });\n\t        };\n\t        this.completionSubscriptions.push(disableSubscription);\n\t        if (onNext) {\n\t            this.nextSubscriptions.push(onNext);\n\t        }\n\t        if (onError) {\n\t            this.errorSubscriptions.push(onError);\n\t        }\n\t        if (onCompletion) {\n\t            this.completionSubscriptions.push(onCompletion);\n\t        }\n\t        var subscription = new BaseObservableSubscription_1.BaseObservableSubscription(function () {\n\t            if (onNext) {\n\t                _this.nextSubscriptions = _this.nextSubscriptions.filter(function (sub) { return sub !== onNext; });\n\t            }\n\t            if (onError) {\n\t                _this.errorSubscriptions = _this.errorSubscriptions.filter(function (sub) { return sub !== onError; });\n\t            }\n\t            if (onCompletion) {\n\t                _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== onCompletion; });\n\t            }\n\t        });\n\t        BaseObservable.dispatchDigestMessages();\n\t        return subscription;\n\t    };\n\t    BaseObservable.prototype.cancel = function () {\n\t        this.pushMessage([MessageTypes.Complete, , noop]);\n\t    };\n\t    BaseObservable.prototype.pushMessage = function (message) {\n\t        BaseObservable.awaitingMessages.push([this, message]);\n\t        BaseObservable.dispatchDigestMessages();\n\t    };\n\t    BaseObservable.dispatchDigestMessages = function () {\n\t        DispatcherInstance_1.dispatch(BaseObservable.digestAwaitingMessages, DispatcherPriorities_1.DispatcherPriorities.OBSERVABLE);\n\t    };\n\t    BaseObservable.digestAwaitingMessages = function () {\n\t        var _a = BaseObservable.popMessage(), node = _a[0], message = _a[1];\n\t        if (!node) {\n\t            return;\n\t        }\n\t        BaseObservable.digestNodeMessage(node, message);\n\t        BaseObservable.dispatchDigestMessages();\n\t    };\n\t    BaseObservable.popMessage = function () {\n\t        if (BaseObservable.awaitingMessages.length === 0) {\n\t            return [null, null];\n\t        }\n\t        for (var i = 0; i < BaseObservable.awaitingMessages.length; i++) {\n\t            var _a = BaseObservable.awaitingMessages[i], _b = _a[0], node = _b === void 0 ? null : _b, message = _a[1];\n\t            if (message[0] === MessageTypes.Next && !node.nextSubscriptions.length)\n\t                continue;\n\t            if (message[0] === MessageTypes.Error && !node.errorSubscriptions.length)\n\t                continue;\n\t            if (message[0] === MessageTypes.Complete && !node.completionSubscriptions.length)\n\t                continue;\n\t            BaseObservable.awaitingMessages.splice(i, 1);\n\t            return [node, message];\n\t        }\n\t        return [null, null];\n\t    };\n\t    BaseObservable.digestNodeMessage = function (node, message) {\n\t        if (!node.closed) {\n\t            var type = message[0], doneCallback = message[2];\n\t            if (type === MessageTypes.Next) {\n\t                var _a = message, getValue = _a[1];\n\t                var nextValue_1 = getValue(node.lastValue);\n\t                node.lastValue = nextValue_1;\n\t                node.nextSubscriptions.forEach(function (sub) { return sub(nextValue_1); });\n\t            }\n\t            else if (type === MessageTypes.Error) {\n\t                var _b = message, error_1 = _b[1];\n\t                node.errorSubscriptions.forEach(function (sub) { return sub(error_1); });\n\t            }\n\t            else if (type === MessageTypes.Complete) {\n\t                node.cancelSubscriber();\n\t                node.cancelSubscriber = noop;\n\t                node.closed = true;\n\t                node.completionSubscriptions.forEach(function (sub) { return sub(); });\n\t            }\n\t            doneCallback();\n\t        }\n\t    };\n\t    return BaseObservable;\n\t}());\n\tBaseObservable.awaitingMessages = [];\n\tBaseObservable.lastObservablePriority = 0;\n\texports.BaseObservable = BaseObservable;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar BaseObservableSubscription = (function () {\n\t    function BaseObservableSubscription(_unsubscribe) {\n\t        this._unsubscribe = _unsubscribe;\n\t    }\n\t    Object.defineProperty(BaseObservableSubscription.prototype, \"closed\", {\n\t        get: function () {\n\t            return !this._unsubscribe;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    BaseObservableSubscription.prototype.unsubscribe = function () {\n\t        var _unsubscribe = this._unsubscribe;\n\t        this._unsubscribe = null;\n\t        _unsubscribe && _unsubscribe();\n\t    };\n\t    return BaseObservableSubscription;\n\t}());\n\texports.BaseObservableSubscription = BaseObservableSubscription;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar BaseObservable_1 = __webpack_require__(4);\n\tvar Observable_1 = __webpack_require__(3);\n\tvar Data = (function (_super) {\n\t    __extends(Data, _super);\n\t    function Data(defaultValue) {\n\t        var _this = _super.call(this, function (observer) { observer.next(defaultValue); }) || this;\n\t        _this.lastValue = defaultValue;\n\t        return _this;\n\t    }\n\t    Data.prototype.write = function (nextValue) {\n\t        var _this = this;\n\t        return new Promise(function (resolve) {\n\t            _this.pushMessage([\n\t                BaseObservable_1.MessageTypes.Next,\n\t                (typeof nextValue === 'function')\n\t                    ? nextValue\n\t                    : (function () { return nextValue; }),\n\t                resolve\n\t            ]);\n\t        });\n\t    };\n\t    return Data;\n\t}(Observable_1.Observable));\n\texports.Data = Data;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Dispatcher = (function () {\n\t    function Dispatcher() {\n\t        this.nextTickScheduler = null;\n\t        this._isRunning = false;\n\t        this.tasks = [];\n\t    }\n\t    Object.defineProperty(Dispatcher.prototype, \"isRunning\", {\n\t        get: function () {\n\t            return !!this._isRunning;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Dispatcher.prototype.push = function (job, priority) {\n\t        if (priority === void 0) { priority = 0; }\n\t        this.tasks.push({\n\t            priority: priority,\n\t            job: job,\n\t        });\n\t        return this;\n\t    };\n\t    Dispatcher.prototype.run = function () {\n\t        var _this = this;\n\t        if (this._isRunning)\n\t            return;\n\t        this._isRunning = true;\n\t        var job = this.findNextJob();\n\t        if (!job) {\n\t            this.nextTickScheduler = null;\n\t            this._isRunning = false;\n\t            return;\n\t        }\n\t        (this.nextTickScheduler = this.nextTickScheduler || Promise.resolve())\n\t            .then(function () {\n\t            _this.next(function () {\n\t                try {\n\t                    job.job();\n\t                }\n\t                catch (e) {\n\t                    console.error(e.stack || e.message || e);\n\t                }\n\t            }, function () {\n\t                _this._isRunning = false;\n\t                _this.run();\n\t            });\n\t        });\n\t    };\n\t    Dispatcher.prototype.findNextJob = function () {\n\t        var maxPriorityJobIdx = null;\n\t        for (var i = 0; i < this.tasks.length; i++) {\n\t            if (maxPriorityJobIdx === null ||\n\t                this.tasks[i].priority < this.tasks[maxPriorityJobIdx].priority) {\n\t                maxPriorityJobIdx = i;\n\t            }\n\t        }\n\t        if (maxPriorityJobIdx === null)\n\t            return null;\n\t        return this.tasks.splice(maxPriorityJobIdx, 1)[0];\n\t    };\n\t    /*\n\t     * Function can be replaced with a custom implementation\n\t     * for integrating different scheduling strategy\n\t     */\n\t    Dispatcher.prototype.next = function (job, next) {\n\t        job();\n\t        next();\n\t    };\n\t    return Dispatcher;\n\t}());\n\texports.Dispatcher = Dispatcher;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar DispatcherPriorities_1 = __webpack_require__(2);\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tfunction action(target, propertyKey, descriptor) {\n\t    var actionPerformer = descriptor.value;\n\t    descriptor.value = function () {\n\t        var _this = this;\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        return DispatcherInstance_1.dispatchPromise(function () { actionPerformer.apply(_this, args); }, DispatcherPriorities_1.DispatcherPriorities.DOMAIN);\n\t    };\n\t}\n\texports.action = action;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Observable_1 = __webpack_require__(3);\n\tvar DispatcherInstance_1 = __webpack_require__(1);\n\tvar Domain = (function (_super) {\n\t    __extends(Domain, _super);\n\t    function Domain(stream) {\n\t        return _super.call(this, function (observer) {\n\t            stream.subscribe(observer.next, observer.error, observer.complete);\n\t        }) || this;\n\t    }\n\t    Domain.create = function (stream, actions, fields) {\n\t        var instance = new Domain(stream);\n\t        if (actions) {\n\t            var _loop_1 = function (actionsKey) {\n\t                if (!Object.prototype.hasOwnProperty.call(actions, actionsKey)) {\n\t                    return \"continue\";\n\t                }\n\t                instance[actionsKey] =\n\t                    function () {\n\t                        var args = [];\n\t                        for (var _i = 0; _i < arguments.length; _i++) {\n\t                            args[_i] = arguments[_i];\n\t                        }\n\t                        return DispatcherInstance_1.dispatchPromise((_a = actions[actionsKey]).bind.apply(_a, [instance].concat(args)));\n\t                        var _a;\n\t                    };\n\t            };\n\t            for (var actionsKey in actions) {\n\t                _loop_1(actionsKey);\n\t            }\n\t        }\n\t        if (fields) {\n\t            for (var fieldsKey in fields) {\n\t                if (!Object.prototype.hasOwnProperty.call(fields, fieldsKey)) {\n\t                    continue;\n\t                }\n\t                instance[fieldsKey] = fields[fieldsKey];\n\t            }\n\t        }\n\t        return instance;\n\t    };\n\t    return Domain;\n\t}(Observable_1.Observable));\n\texports.Domain = Domain;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar __assign = (this && this.__assign) || Object.assign || function(t) {\n\t    for (var s, i = 1, n = arguments.length; i < n; i++) {\n\t        s = arguments[i];\n\t        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n\t            t[p] = s[p];\n\t    }\n\t    return t;\n\t};\n\tvar Observable_1 = __webpack_require__(3);\n\tvar Merge = (function (_super) {\n\t    __extends(Merge, _super);\n\t    function Merge(sources) {\n\t        return _super.call(this, function (observer) {\n\t            var names = [];\n\t            var initialized = [];\n\t            var preinitialReceivedMessages = [];\n\t            var result = {};\n\t            var subscriptions = [];\n\t            var _loop_1 = function (key) {\n\t                if (!Object.prototype.hasOwnProperty.call(sources, key))\n\t                    return \"continue\";\n\t                names.push(key);\n\t                subscriptions.push(sources[key].subscribe(function (nextSourceValue) {\n\t                    preinitialReceivedMessages && preinitialReceivedMessages.push([key, nextSourceValue]);\n\t                    if (initialized.indexOf(key) < 0) {\n\t                        initialized.push(key);\n\t                    }\n\t                    if (names.length !== initialized.length) {\n\t                        return;\n\t                    }\n\t                    if (preinitialReceivedMessages) {\n\t                        var initialMessage = {};\n\t                        var initializedFields = [];\n\t                        var repeatedPreinitialReceivedMessages = [];\n\t                        for (var i = 0; i < preinitialReceivedMessages.length; i++) {\n\t                            if (initializedFields.indexOf(preinitialReceivedMessages[i][0]) < 0) {\n\t                                var _a = preinitialReceivedMessages[i], sourceName = _a[0], sourceMessage = _a[1];\n\t                                initialMessage[sourceName] = sourceMessage;\n\t                                initializedFields.push(sourceName);\n\t                            }\n\t                            else {\n\t                                repeatedPreinitialReceivedMessages.push(preinitialReceivedMessages[i]);\n\t                            }\n\t                        }\n\t                        observer.next(result = initialMessage);\n\t                        repeatedPreinitialReceivedMessages.forEach(function (_a) {\n\t                            var sourceName = _a[0], sourceMessage = _a[1];\n\t                            observer.next(result = __assign({}, result, (_b = {}, _b[sourceName] = sourceMessage, _b)));\n\t                            var _b;\n\t                        });\n\t                        preinitialReceivedMessages = null;\n\t                        return;\n\t                    }\n\t                    observer.next(result = __assign({}, result, (_b = {}, _b[key] = nextSourceValue, _b)));\n\t                    var _b;\n\t                }));\n\t            };\n\t            for (var key in sources) {\n\t                _loop_1(key);\n\t            }\n\t            return function () {\n\t                subscriptions.forEach(function (subscription) { return subscription(); });\n\t            };\n\t        }) || this;\n\t    }\n\t    return Merge;\n\t}(Observable_1.Observable));\n\texports.Merge = Merge;\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// immview.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 62e6424db67aa683a123","\"use strict\";\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar Observable_1 = require(\"./Observable\");\nexports.Observable = Observable_1.Observable;\nvar Data_1 = require(\"./Data\");\nexports.Data = Data_1.Data;\nvar Merge_1 = require(\"./Merge\");\nexports.Merge = Merge_1.Merge;\nvar Domain_1 = require(\"./Domain\");\nexports.Domain = Domain_1.Domain;\nvar Domain_action_1 = require(\"./Domain.action\");\nexports.action = Domain_action_1.action;\nvar dispatchExt = function (job) {\n    DispatcherInstance_1.Dispatcher.push(job, DispatcherPriorities_1.DispatcherPriorities.EXTERNAL);\n};\nexports.dispatch = dispatchExt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.ts\n// module id = 0\n// module chunks = 0","\"use strict\";\nvar Dispatcher_1 = require(\"./Dispatcher\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar DispatcherInstance = new Dispatcher_1.Dispatcher();\nexports.Dispatcher = DispatcherInstance;\nvar dispatch = function (job, priority) {\n    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n    DispatcherInstance.push(job, priority);\n    DispatcherInstance.run();\n};\nexports.dispatch = dispatch;\nvar dispatchPromise = function (job, priority) {\n    if (priority === void 0) { priority = DispatcherPriorities_1.DispatcherPriorities.EXTERNAL; }\n    return new Promise(function (resolve, reject) {\n        dispatch(function () {\n            try {\n                resolve(job());\n            }\n            catch (e) {\n                console.error(e.stack || e.message || e);\n                reject(e);\n            }\n        }, priority);\n    });\n};\nexports.dispatchPromise = dispatchPromise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/DispatcherInstance.ts\n// module id = 1\n// module chunks = 0","\"use strict\";\nvar DispatcherPriorities;\n(function (DispatcherPriorities) {\n    DispatcherPriorities[DispatcherPriorities[\"OBSERVABLE\"] = 1] = \"OBSERVABLE\";\n    DispatcherPriorities[DispatcherPriorities[\"DOMAIN\"] = 2] = \"DOMAIN\";\n    DispatcherPriorities[DispatcherPriorities[\"BUFFER\"] = 3] = \"BUFFER\";\n    DispatcherPriorities[DispatcherPriorities[\"EXTERNAL\"] = 4] = \"EXTERNAL\";\n    DispatcherPriorities[DispatcherPriorities[\"TEST\"] = 10] = \"TEST\";\n})(DispatcherPriorities = exports.DispatcherPriorities || (exports.DispatcherPriorities = {}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/DispatcherPriorities.ts\n// module id = 2\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar BaseObservable_1 = require(\"./BaseObservable\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar ObservableSymbol = typeof Symbol !== 'undefined' ? Symbol('ObservableSymbol') : 'ObservableSymbol';\nvar Observable = (function (_super) {\n    __extends(Observable, _super);\n    function Observable() {\n        return _super.apply(this, arguments) || this;\n    }\n    Observable.of = function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            values[_i] = arguments[_i];\n        }\n        return Observable.from(values);\n    };\n    Observable.from = function (values) {\n        if (values[ObservableSymbol]) {\n            return new Observable(function (observer) {\n                values[ObservableSymbol]().subscribe(observer.next, observer.error, observer.complete);\n            });\n        }\n        if (values[Symbol.iterator]) {\n            return new Observable(function (_a) {\n                var next = _a.next, error = _a.error;\n                var iterator = values[Symbol.iterator]();\n                for (var result = iterator.next(); result.done === false; result = iterator.next()) {\n                    result.value instanceof Error\n                        ? error(result.value)\n                        : next(result.value);\n                }\n            });\n        }\n        throw new Error('Observable.from incorrect input');\n    };\n    Observable.prototype.map = function (action) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (value) {\n                if (observer.closed) {\n                    return;\n                }\n                try {\n                    observer.next(action(value));\n                }\n                catch (e) {\n                    observer.error(e);\n                }\n            }, observer.error, observer.complete);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.flatMap = function (action) {\n        throw new Error('not implemented');\n    };\n    Observable.prototype.reduce = function (reductor) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var summary = null;\n            var subscription = _this.subscribe(function (value) {\n                if (observer.closed) {\n                    return;\n                }\n                var newValue;\n                try {\n                    newValue = summary\n                        ? reductor(value, summary)\n                        : value;\n                    summary = newValue;\n                }\n                catch (e) {\n                    observer.error(e);\n                }\n                observer.next(newValue);\n            }, observer.error, observer.complete);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.filter = function (filter) {\n        var _this = this;\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (value) {\n                if (observer.closed) {\n                    return;\n                }\n                try {\n                    filter(value) && observer.next(value);\n                }\n                catch (e) {\n                    observer.error(e);\n                }\n            }, observer.error, observer.complete);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    Observable.prototype.scan = function (scanner, historyLength, defaultValue) {\n        if (historyLength === void 0) { historyLength = 2; }\n        if (defaultValue === void 0) { defaultValue = null; }\n        throw new Error('not implemented');\n    };\n    Observable.prototype.buffer = function (maxLastMessages) {\n        var _this = this;\n        if (maxLastMessages === void 0) { maxLastMessages = 0; }\n        var messages = [];\n        return new Observable(function (observer) {\n            var subscription = _this.subscribe(function (message) {\n                messages = maxLastMessages > 0\n                    ? [message].concat(messages).splice(0, maxLastMessages)\n                    : [message].concat(messages);\n                DispatcherInstance_1.Dispatcher\n                    .push(function () {\n                    if (messages.length < 1)\n                        return;\n                    if (observer.closed)\n                        return;\n                    observer.next(messages\n                        .splice(0, messages.length)\n                        .reverse());\n                }, DispatcherPriorities_1.DispatcherPriorities.BUFFER)\n                    .run();\n            }, observer.error, function () {\n                if (messages.length > 0) {\n                    observer.next(messages\n                        .splice(0, messages.length)\n                        .reverse());\n                }\n                observer.complete();\n            });\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    return Observable;\n}(BaseObservable_1.BaseObservable));\nexports.Observable = Observable;\nObservable.prototype[ObservableSymbol] = function () { return this; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Observable.ts\n// module id = 3\n// module chunks = 0","\"use strict\";\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar BaseObservableSubscription_1 = require(\"./BaseObservableSubscription\");\nvar SubscriptionObserver = (function () {\n    function SubscriptionObserver(next, error, complete, _closed) {\n        this.next = next;\n        this.error = error;\n        this.complete = complete;\n        this._closed = _closed;\n    }\n    Object.defineProperty(SubscriptionObserver.prototype, \"closed\", {\n        get: function () {\n            return this._closed();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SubscriptionObserver;\n}());\nexports.SubscriptionObserver = SubscriptionObserver;\nvar MessageTypes;\n(function (MessageTypes) {\n    MessageTypes[MessageTypes[\"Next\"] = 0] = \"Next\";\n    MessageTypes[MessageTypes[\"Error\"] = 1] = \"Error\";\n    MessageTypes[MessageTypes[\"Complete\"] = 2] = \"Complete\";\n})(MessageTypes = exports.MessageTypes || (exports.MessageTypes = {}));\nvar noop = function () { };\nvar BaseObservable = (function () {\n    function BaseObservable(subscriber) {\n        var _this = this;\n        this.closed = false;\n        this.nextSubscriptions = [];\n        this.errorSubscriptions = [];\n        this.completionSubscriptions = [];\n        this.priority = BaseObservable.lastObservablePriority++;\n        this.cancelSubscriber = (subscriber &&\n            subscriber(new SubscriptionObserver(function (nextValue) {\n                if (_this.closed)\n                    return;\n                _this.pushMessage([MessageTypes.Next, typeof nextValue === 'function' ? nextValue : function () { return nextValue; }, noop]);\n            }, function (reason) {\n                if (_this.closed)\n                    return;\n                _this.pushMessage([MessageTypes.Error, reason, noop]);\n            }, function () {\n                if (_this.closed)\n                    return;\n                _this.pushMessage([MessageTypes.Complete, , noop]);\n            }, function () {\n                return _this.closed;\n            }))) || noop;\n    }\n    BaseObservable.prototype.last = function () {\n        var _this = this;\n        if (this.lastValue)\n            return this.lastValue;\n        if (this.nextSubscriptions.length > 0)\n            return this.lastValue;\n        var messages = BaseObservable.awaitingMessages.filter(function (_a) {\n            var node = _a[0], message = _a[1];\n            return node === _this;\n        });\n        if (messages.length === 0)\n            return;\n        var marginEntry = messages[0];\n        var marginMessage = marginEntry[1];\n        if (marginMessage[0] === MessageTypes.Next) {\n            BaseObservable.awaitingMessages = BaseObservable.awaitingMessages.filter(function (entry) { return entry !== marginEntry; });\n            return (this.lastValue = marginMessage[1](this.lastValue));\n        }\n    };\n    BaseObservable.prototype.subscribe = function (onNext, onError, onCompletion) {\n        var _this = this;\n        if (this.closed) {\n            return new BaseObservableSubscription_1.BaseObservableSubscription(null);\n        }\n        var disableSubscription = function () {\n            subscription.unsubscribe();\n            _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== disableSubscription; });\n        };\n        this.completionSubscriptions.push(disableSubscription);\n        if (onNext) {\n            this.nextSubscriptions.push(onNext);\n        }\n        if (onError) {\n            this.errorSubscriptions.push(onError);\n        }\n        if (onCompletion) {\n            this.completionSubscriptions.push(onCompletion);\n        }\n        var subscription = new BaseObservableSubscription_1.BaseObservableSubscription(function () {\n            if (onNext) {\n                _this.nextSubscriptions = _this.nextSubscriptions.filter(function (sub) { return sub !== onNext; });\n            }\n            if (onError) {\n                _this.errorSubscriptions = _this.errorSubscriptions.filter(function (sub) { return sub !== onError; });\n            }\n            if (onCompletion) {\n                _this.completionSubscriptions = _this.completionSubscriptions.filter(function (sub) { return sub !== onCompletion; });\n            }\n        });\n        BaseObservable.dispatchDigestMessages();\n        return subscription;\n    };\n    BaseObservable.prototype.cancel = function () {\n        this.pushMessage([MessageTypes.Complete, , noop]);\n    };\n    BaseObservable.prototype.pushMessage = function (message) {\n        BaseObservable.awaitingMessages.push([this, message]);\n        BaseObservable.dispatchDigestMessages();\n    };\n    BaseObservable.dispatchDigestMessages = function () {\n        DispatcherInstance_1.dispatch(BaseObservable.digestAwaitingMessages, DispatcherPriorities_1.DispatcherPriorities.OBSERVABLE);\n    };\n    BaseObservable.digestAwaitingMessages = function () {\n        var _a = BaseObservable.popMessage(), node = _a[0], message = _a[1];\n        if (!node) {\n            return;\n        }\n        BaseObservable.digestNodeMessage(node, message);\n        BaseObservable.dispatchDigestMessages();\n    };\n    BaseObservable.popMessage = function () {\n        if (BaseObservable.awaitingMessages.length === 0) {\n            return [null, null];\n        }\n        for (var i = 0; i < BaseObservable.awaitingMessages.length; i++) {\n            var _a = BaseObservable.awaitingMessages[i], _b = _a[0], node = _b === void 0 ? null : _b, message = _a[1];\n            if (message[0] === MessageTypes.Next && !node.nextSubscriptions.length)\n                continue;\n            if (message[0] === MessageTypes.Error && !node.errorSubscriptions.length)\n                continue;\n            if (message[0] === MessageTypes.Complete && !node.completionSubscriptions.length)\n                continue;\n            BaseObservable.awaitingMessages.splice(i, 1);\n            return [node, message];\n        }\n        return [null, null];\n    };\n    BaseObservable.digestNodeMessage = function (node, message) {\n        if (!node.closed) {\n            var type = message[0], doneCallback = message[2];\n            if (type === MessageTypes.Next) {\n                var _a = message, getValue = _a[1];\n                var nextValue_1 = getValue(node.lastValue);\n                node.lastValue = nextValue_1;\n                node.nextSubscriptions.forEach(function (sub) { return sub(nextValue_1); });\n            }\n            else if (type === MessageTypes.Error) {\n                var _b = message, error_1 = _b[1];\n                node.errorSubscriptions.forEach(function (sub) { return sub(error_1); });\n            }\n            else if (type === MessageTypes.Complete) {\n                node.cancelSubscriber();\n                node.cancelSubscriber = noop;\n                node.closed = true;\n                node.completionSubscriptions.forEach(function (sub) { return sub(); });\n            }\n            doneCallback();\n        }\n    };\n    return BaseObservable;\n}());\nBaseObservable.awaitingMessages = [];\nBaseObservable.lastObservablePriority = 0;\nexports.BaseObservable = BaseObservable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/BaseObservable.ts\n// module id = 4\n// module chunks = 0","\"use strict\";\nvar BaseObservableSubscription = (function () {\n    function BaseObservableSubscription(_unsubscribe) {\n        this._unsubscribe = _unsubscribe;\n    }\n    Object.defineProperty(BaseObservableSubscription.prototype, \"closed\", {\n        get: function () {\n            return !this._unsubscribe;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BaseObservableSubscription.prototype.unsubscribe = function () {\n        var _unsubscribe = this._unsubscribe;\n        this._unsubscribe = null;\n        _unsubscribe && _unsubscribe();\n    };\n    return BaseObservableSubscription;\n}());\nexports.BaseObservableSubscription = BaseObservableSubscription;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/BaseObservableSubscription.ts\n// module id = 5\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar BaseObservable_1 = require(\"./BaseObservable\");\nvar Observable_1 = require(\"./Observable\");\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data(defaultValue) {\n        var _this = _super.call(this, function (observer) { observer.next(defaultValue); }) || this;\n        _this.lastValue = defaultValue;\n        return _this;\n    }\n    Data.prototype.write = function (nextValue) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.pushMessage([\n                BaseObservable_1.MessageTypes.Next,\n                (typeof nextValue === 'function')\n                    ? nextValue\n                    : (function () { return nextValue; }),\n                resolve\n            ]);\n        });\n    };\n    return Data;\n}(Observable_1.Observable));\nexports.Data = Data;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Data.ts\n// module id = 6\n// module chunks = 0","\"use strict\";\nvar Dispatcher = (function () {\n    function Dispatcher() {\n        this.nextTickScheduler = null;\n        this._isRunning = false;\n        this.tasks = [];\n    }\n    Object.defineProperty(Dispatcher.prototype, \"isRunning\", {\n        get: function () {\n            return !!this._isRunning;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Dispatcher.prototype.push = function (job, priority) {\n        if (priority === void 0) { priority = 0; }\n        this.tasks.push({\n            priority: priority,\n            job: job,\n        });\n        return this;\n    };\n    Dispatcher.prototype.run = function () {\n        var _this = this;\n        if (this._isRunning)\n            return;\n        this._isRunning = true;\n        var job = this.findNextJob();\n        if (!job) {\n            this.nextTickScheduler = null;\n            this._isRunning = false;\n            return;\n        }\n        (this.nextTickScheduler = this.nextTickScheduler || Promise.resolve())\n            .then(function () {\n            _this.next(function () {\n                try {\n                    job.job();\n                }\n                catch (e) {\n                    console.error(e.stack || e.message || e);\n                }\n            }, function () {\n                _this._isRunning = false;\n                _this.run();\n            });\n        });\n    };\n    Dispatcher.prototype.findNextJob = function () {\n        var maxPriorityJobIdx = null;\n        for (var i = 0; i < this.tasks.length; i++) {\n            if (maxPriorityJobIdx === null ||\n                this.tasks[i].priority < this.tasks[maxPriorityJobIdx].priority) {\n                maxPriorityJobIdx = i;\n            }\n        }\n        if (maxPriorityJobIdx === null)\n            return null;\n        return this.tasks.splice(maxPriorityJobIdx, 1)[0];\n    };\n    /*\n     * Function can be replaced with a custom implementation\n     * for integrating different scheduling strategy\n     */\n    Dispatcher.prototype.next = function (job, next) {\n        job();\n        next();\n    };\n    return Dispatcher;\n}());\nexports.Dispatcher = Dispatcher;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Dispatcher.ts\n// module id = 7\n// module chunks = 0","\"use strict\";\nvar DispatcherPriorities_1 = require(\"./DispatcherPriorities\");\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nfunction action(target, propertyKey, descriptor) {\n    var actionPerformer = descriptor.value;\n    descriptor.value = function () {\n        var _this = this;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return DispatcherInstance_1.dispatchPromise(function () { actionPerformer.apply(_this, args); }, DispatcherPriorities_1.DispatcherPriorities.DOMAIN);\n    };\n}\nexports.action = action;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Domain.action.ts\n// module id = 8\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require(\"./Observable\");\nvar DispatcherInstance_1 = require(\"./DispatcherInstance\");\nvar Domain = (function (_super) {\n    __extends(Domain, _super);\n    function Domain(stream) {\n        return _super.call(this, function (observer) {\n            stream.subscribe(observer.next, observer.error, observer.complete);\n        }) || this;\n    }\n    Domain.create = function (stream, actions, fields) {\n        var instance = new Domain(stream);\n        if (actions) {\n            var _loop_1 = function (actionsKey) {\n                if (!Object.prototype.hasOwnProperty.call(actions, actionsKey)) {\n                    return \"continue\";\n                }\n                instance[actionsKey] =\n                    function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return DispatcherInstance_1.dispatchPromise((_a = actions[actionsKey]).bind.apply(_a, [instance].concat(args)));\n                        var _a;\n                    };\n            };\n            for (var actionsKey in actions) {\n                _loop_1(actionsKey);\n            }\n        }\n        if (fields) {\n            for (var fieldsKey in fields) {\n                if (!Object.prototype.hasOwnProperty.call(fields, fieldsKey)) {\n                    continue;\n                }\n                instance[fieldsKey] = fields[fieldsKey];\n            }\n        }\n        return instance;\n    };\n    return Domain;\n}(Observable_1.Observable));\nexports.Domain = Domain;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Domain.ts\n// module id = 9\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar Observable_1 = require(\"./Observable\");\nvar Merge = (function (_super) {\n    __extends(Merge, _super);\n    function Merge(sources) {\n        return _super.call(this, function (observer) {\n            var names = [];\n            var initialized = [];\n            var preinitialReceivedMessages = [];\n            var result = {};\n            var subscriptions = [];\n            var _loop_1 = function (key) {\n                if (!Object.prototype.hasOwnProperty.call(sources, key))\n                    return \"continue\";\n                names.push(key);\n                subscriptions.push(sources[key].subscribe(function (nextSourceValue) {\n                    preinitialReceivedMessages && preinitialReceivedMessages.push([key, nextSourceValue]);\n                    if (initialized.indexOf(key) < 0) {\n                        initialized.push(key);\n                    }\n                    if (names.length !== initialized.length) {\n                        return;\n                    }\n                    if (preinitialReceivedMessages) {\n                        var initialMessage = {};\n                        var initializedFields = [];\n                        var repeatedPreinitialReceivedMessages = [];\n                        for (var i = 0; i < preinitialReceivedMessages.length; i++) {\n                            if (initializedFields.indexOf(preinitialReceivedMessages[i][0]) < 0) {\n                                var _a = preinitialReceivedMessages[i], sourceName = _a[0], sourceMessage = _a[1];\n                                initialMessage[sourceName] = sourceMessage;\n                                initializedFields.push(sourceName);\n                            }\n                            else {\n                                repeatedPreinitialReceivedMessages.push(preinitialReceivedMessages[i]);\n                            }\n                        }\n                        observer.next(result = initialMessage);\n                        repeatedPreinitialReceivedMessages.forEach(function (_a) {\n                            var sourceName = _a[0], sourceMessage = _a[1];\n                            observer.next(result = __assign({}, result, (_b = {}, _b[sourceName] = sourceMessage, _b)));\n                            var _b;\n                        });\n                        preinitialReceivedMessages = null;\n                        return;\n                    }\n                    observer.next(result = __assign({}, result, (_b = {}, _b[key] = nextSourceValue, _b)));\n                    var _b;\n                }));\n            };\n            for (var key in sources) {\n                _loop_1(key);\n            }\n            return function () {\n                subscriptions.forEach(function (subscription) { return subscription(); });\n            };\n        }) || this;\n    }\n    return Merge;\n}(Observable_1.Observable));\nexports.Merge = Merge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Merge.ts\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}