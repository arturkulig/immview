{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///immview.js","webpack:///webpack/bootstrap 62569160d0685ec04126","webpack:///./src/index.js","webpack:///./src/Observable.js","webpack:///./src/Digest.js","webpack:///./src/Dispatcher.js","webpack:///./src/Immutabilize.js","webpack:///./src/env.js","webpack:///./src/View.js","webpack:///./src/ViewMergeMap.js","webpack:///./src/Debounce.js","webpack:///./src/Throttle.js","webpack:///./src/Scan.js","webpack:///./src/Reduce.js","webpack:///./src/Domain.js","webpack:///./src/Data.js","webpack:///./src/Merge.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","dispatch","Dispatcher","Reduce","Merge","Scan","Throttle","Debounce","Domain","View","Data","Observable","undefined","_Observable","_Observable2","_Domain","_Domain2","_Data","_Data2","_View","_View2","_Debounce","_Debounce2","_Throttle","_Throttle2","_Scan","_Scan2","_Merge","_Merge2","_Reduce","_Reduce2","_Dispatcher","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","_typeof","Symbol","constructor","_this","structure","priority","nextPriority","subscriptions","data","closed","hasValue","v","identity","_Digest","Digest","DispatcherModule","_Immutabilize","_env","read","shouldObservableUpdate","candidate","isImmutabilized","consume","process","arguments","length","queue","digest","_this2","digestCandidate","Promise","resolve","then","flush","i","immutabilize","addSubscription","reaction","_this3","indexOf","push","filter","registeredReaction","subscribe","destroy","rejectContext","writable","map","processor","debounce","timeout","throttle","scan","valuesToRemember","initialValue","reduce","reducer","info","name","content","JSON","stringify","substr","logger","log","e","observable","dispatchDataConsume","scheduleObservableConsumption","dispatchQueueExecution","schedule","splice","dispatchDataWrite","executeQueue","_schedule$splice","_schedule$splice2","_slicedToArray","_schedule$splice2$","_observable","_data","_process","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","iterator","next","done","err","Array","isArray","TypeError","runFirstQueuedItem","task","shiftFromQueue","_context","context","_action","action","_args","args","apply","toRun","findMaxPriority","maxPriority","firstOfPriority","jobPriority","appendToQueue","PRIORITY_EXT","dispatchDomainAction","PRIORITY_DOMAIN","PRIORITY_DATA_WRITE","PRIORITY_DATA_CONSUMING","dispatchExternal","startQueue","isRunning","tick","logError","error","errorPrefix","stack","message","item","func","console","subject","immutabilizeSecret","tryStringify","ellipse","replace","_env2","Proxy","get","target","property","set","receiver","_tryStringify","_tryStringify2","isStringified","stringified","Error","join","env","source","unsubs","connectToSource","connectToMultipleSources","aView","sources","warn","mergedStructure","_ViewMergeMap2","sourcesNames","keys","forEach","sourceName","sourceData","clone","_ViewMergeMap","create","_toArray","from","ViewMergeMap","initialObject","prop","anotherInstance","result","toJS","toObject","getIn","_ref","_ref2","otherProps","slice","defaultValue","setIn","_ref3","_ref4","newValue","timeoutID","subscription","clearTimeout","setTimeout","timeoutedData","history","pushToHistory","premadeHistory","unsubscribe","steps","newHistory","unsubscribeFromSource","sourceState","stream","actions","assignActions","ctx","actionNames","actionName","_len8","_key8","originalLength","_actionNames","noop","_len","_key","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","initialData","pendingChanges","executePendingChanges","changed","change","write","_defineProperty","enumerable","configurable","assign"],"mappings":"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","file":"immview.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory();\n\telse\n\t\troot[\"immview\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immview\"] = factory();\n\telse\n\t\troot[\"immview\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.dispatch = exports.Dispatcher = exports.Reduce = exports.Merge = exports.Scan = exports.Throttle = exports.Debounce = exports.Domain = exports.View = exports.Data = exports.Observable = undefined;\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tvar _Domain = __webpack_require__(12);\n\t\n\tvar _Domain2 = _interopRequireDefault(_Domain);\n\t\n\tvar _Data = __webpack_require__(13);\n\t\n\tvar _Data2 = _interopRequireDefault(_Data);\n\t\n\tvar _View = __webpack_require__(6);\n\t\n\tvar _View2 = _interopRequireDefault(_View);\n\t\n\tvar _Debounce = __webpack_require__(8);\n\t\n\tvar _Debounce2 = _interopRequireDefault(_Debounce);\n\t\n\tvar _Throttle = __webpack_require__(9);\n\t\n\tvar _Throttle2 = _interopRequireDefault(_Throttle);\n\t\n\tvar _Scan = __webpack_require__(10);\n\t\n\tvar _Scan2 = _interopRequireDefault(_Scan);\n\t\n\tvar _Merge = __webpack_require__(14);\n\t\n\tvar _Merge2 = _interopRequireDefault(_Merge);\n\t\n\tvar _Reduce = __webpack_require__(11);\n\t\n\tvar _Reduce2 = _interopRequireDefault(_Reduce);\n\t\n\tvar _Dispatcher = __webpack_require__(3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Observable = _Observable2.default;\n\texports.Data = _Data2.default;\n\texports.View = _View2.default;\n\texports.Domain = _Domain2.default;\n\texports.Debounce = _Debounce2.default;\n\texports.Throttle = _Throttle2.default;\n\texports.Scan = _Scan2.default;\n\texports.Merge = _Merge2.default;\n\texports.Reduce = _Reduce2.default;\n\texports.Dispatcher = _Dispatcher.Dispatcher;\n\texports.dispatch = _Dispatcher.dispatch;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Observable;\n\t\n\tvar _Digest = __webpack_require__(2);\n\t\n\tvar Digest = _interopRequireWildcard(_Digest);\n\t\n\tvar _Dispatcher = __webpack_require__(3);\n\t\n\tvar DispatcherModule = _interopRequireWildcard(_Dispatcher);\n\t\n\tvar _Immutabilize = __webpack_require__(4);\n\t\n\tvar _env = __webpack_require__(5);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\t/*\n\t * Observable is an base class for all immview observables\n\t */\n\tfunction Observable() {\n\t    var _this = this;\n\t\n\t    this.structure = null;\n\t    this.priority = Observable.nextPriority++;\n\t    this.subscriptions = [function (data) {\n\t        _this.structure = data;\n\t    }];\n\t    this.closed = false;\n\t}\n\t\n\tObservable.nextPriority = 0;\n\t\n\tObservable.prototype = {\n\t    structure: null,\n\t    priority: 0,\n\t    subscriptions: [],\n\t    closed: false,\n\t\n\t    read: function read() {\n\t        return this.structure;\n\t    },\n\t    shouldObservableUpdate: function shouldObservableUpdate(candidate) {\n\t        if (!hasValue(candidate)) return false;\n\t        if ((typeof candidate === 'undefined' ? 'undefined' : _typeof(candidate)) === 'object') {\n\t            return !(0, _Immutabilize.isImmutabilized)(candidate) || this.read() !== candidate;\n\t        }\n\t        return this.read() !== candidate;\n\t    },\n\t\n\t    /*\n\t     * Defers a digestion with a function\n\t     * that can be replaced\n\t     * without any data loss\n\t     */\n\t    consume: function consume(candidate) {\n\t        var process = arguments.length <= 1 || arguments[1] === undefined ? identity : arguments[1];\n\t\n\t        Digest.queue(this, candidate, process);\n\t    },\n\t\n\t    /*\n\t     * Replace current state and push data further\n\t     */\n\t    digest: function digest(candidate) {\n\t        var _this2 = this;\n\t\n\t        if (this.digestCandidate || candidate instanceof Promise) {\n\t            this.digestCandidate = (this.digestCandidate || Promise.resolve()).then(function () {\n\t                return candidate;\n\t            }).then(function (data) {\n\t                return _this2.flush(data);\n\t            });\n\t        } else {\n\t            this.flush(candidate);\n\t        }\n\t    },\n\t    flush: function flush(candidate) {\n\t        if (this.shouldObservableUpdate(candidate)) {\n\t            for (var i = 0; this.subscriptions && i < this.subscriptions.length; i++) {\n\t                this.subscriptions[i]((0, _Immutabilize.immutabilize)(candidate));\n\t            }\n\t        }\n\t    },\n\t\n\t    /*\n\t     * Registers a function that is going to be fed with new data pushing by this observable\n\t     */\n\t    addSubscription: function addSubscription(reaction) {\n\t        var _this3 = this;\n\t\n\t        if (this.subscriptions.indexOf(reaction) < 0) {\n\t            this.subscriptions.push(reaction);\n\t        }\n\t        return function () {\n\t            _this3.subscriptions = _this3.subscriptions.filter(function (registeredReaction) {\n\t                return registeredReaction !== reaction;\n\t            });\n\t        };\n\t    },\n\t\n\t    /*\n\t     * Registers a function that is going to be fed with new data pushing by this observable.\n\t     * Will launch provided function immediately.\n\t     */\n\t    subscribe: function subscribe(reaction) {\n\t        reaction(this.read());\n\t        return this.addSubscription(reaction);\n\t    },\n\t    destroy: function destroy() {\n\t        DispatcherModule.rejectContext(this);\n\t        this.structure = null;\n\t        this.subscriptions = [];\n\t        Object.defineProperty ? Object.defineProperty(this, 'closed', { value: true, writable: false }) : this.closed = true;\n\t    },\n\t    map: function map(processor) {\n\t        var View = __webpack_require__(6).default;\n\t        return new View(this, processor);\n\t    },\n\t    debounce: function debounce(timeout) {\n\t        var Debounce = __webpack_require__(8).default;\n\t        return new Debounce(this, timeout);\n\t    },\n\t    throttle: function throttle(timeout) {\n\t        var Throttle = __webpack_require__(9).default;\n\t        return new Throttle(this, timeout);\n\t    },\n\t    scan: function scan(valuesToRemember, initialValue) {\n\t        var Scan = __webpack_require__(10).default;\n\t        return new Scan(this, valuesToRemember, initialValue);\n\t    },\n\t    reduce: function reduce(reducer) {\n\t        var Reduce = __webpack_require__(11).default;\n\t        return new Reduce(this, reducer);\n\t    },\n\t    info: function info() {\n\t        var name = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\t\n\t        try {\n\t            var content = JSON.stringify(this.read()).substr(0, 32);\n\t            DispatcherModule.Dispatcher.logger.log('#' + this.priority + ' ' + name + ' ' + content);\n\t        } catch (e) {\n\t            DispatcherModule.Dispatcher.logger.log('#' + this.priority + ' ' + name, this.read());\n\t        }\n\t    }\n\t};\n\t\n\tfunction hasValue(v) {\n\t    return v !== undefined && v !== null;\n\t}\n\t\n\tfunction identity(v) {\n\t    return v;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.queue = queue;\n\t\n\tvar _Dispatcher = __webpack_require__(3);\n\t\n\tvar schedule = [];\n\t\n\tfunction queue(observable, data, process) {\n\t    (0, _Dispatcher.dispatchDataConsume)(function () {\n\t        scheduleObservableConsumption(observable, data, process);\n\t        dispatchQueueExecution();\n\t    });\n\t}\n\t\n\tfunction scheduleObservableConsumption(observable, data, process) {\n\t    for (var i = 0; i < schedule.length; i++) {\n\t        if (schedule[i].observable.priority === observable.priority) {\n\t            schedule[i].data = data;\n\t            return;\n\t        }\n\t        if (schedule[i].observable.priority > observable.priority) {\n\t            schedule.splice(i, 0, { observable: observable, data: data, process: process });\n\t            return;\n\t        }\n\t    }\n\t    schedule.splice(schedule.length, 0, { observable: observable, data: data, process: process });\n\t}\n\t\n\tfunction dispatchQueueExecution() {\n\t    (0, _Dispatcher.dispatchDataWrite)(executeQueue);\n\t}\n\t\n\tfunction executeQueue() {\n\t    if (schedule.length) {\n\t        var _schedule$splice = schedule.splice(0, 1);\n\t\n\t        var _schedule$splice2 = _slicedToArray(_schedule$splice, 1);\n\t\n\t        var _schedule$splice2$ = _schedule$splice2[0];\n\t        var _observable = _schedule$splice2$.observable;\n\t        var _data = _schedule$splice2$.data;\n\t        var _process = _schedule$splice2$.process;\n\t\n\t        _observable.digest(_process(_data));\n\t        dispatchQueueExecution();\n\t    }\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tvar isRunning = false;\n\tvar queue = [];\n\tvar errorPrefix = 'Immview::Dispatcher: ';\n\t\n\tvar PRIORITY_EXT = 0;\n\tvar PRIORITY_DOMAIN = 1;\n\tvar PRIORITY_DATA_WRITE = 2;\n\tvar PRIORITY_DATA_CONSUMING = 3;\n\t\n\tvar Dispatcher = {\n\t    dispatch: dispatchExternal,\n\t\n\t    tick: function tick(func) {\n\t        func();\n\t    },\n\t\n\t    rejectContext: rejectContext,\n\t\n\t    logger: console\n\t};\n\t\n\texports.default = Dispatcher;\n\texports.Dispatcher = Dispatcher;\n\texports.dispatch = dispatch;\n\texports.dispatchDomainAction = dispatchDomainAction;\n\texports.dispatchDataWrite = dispatchDataWrite;\n\texports.dispatchDataConsume = dispatchDataConsume;\n\texports.dispatchExternal = dispatchExternal;\n\texports.rejectContext = rejectContext;\n\t\n\t/*\n\t * Execute first action of current queue\n\t */\n\t\n\tfunction runFirstQueuedItem() {\n\t    var task = shiftFromQueue();\n\t    if (task) {\n\t        var _context = task.context;\n\t        var _action = task.action;\n\t        var _args = task.args;\n\t\n\t        _action && _action.apply(_context, _args);\n\t    }\n\t}\n\t\n\tfunction shiftFromQueue() {\n\t    var toRun = findMaxPriority();\n\t    if (toRun) {\n\t        queue.splice(queue.indexOf(toRun), 1);\n\t    }\n\t    return toRun;\n\t}\n\t\n\tfunction findMaxPriority() {\n\t    var maxPriority = -1;\n\t    var firstOfPriority = null;\n\t    for (var i = 0; i < queue.length; i++) {\n\t        var jobPriority = queue[i].priority;\n\t        if (jobPriority > maxPriority) {\n\t            firstOfPriority = queue[i];\n\t            maxPriority = jobPriority;\n\t        }\n\t    }\n\t    return firstOfPriority;\n\t}\n\t\n\t/*\n\t * Append new action onto end of the queue\n\t */\n\tfunction appendToQueue(action) {\n\t    var context = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t    var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\t    var priority = arguments.length <= 3 || arguments[3] === undefined ? PRIORITY_EXT : arguments[3];\n\t\n\t    queue.push({\n\t        priority: priority,\n\t        action: action,\n\t        context: context,\n\t        args: args\n\t    });\n\t}\n\t\n\tfunction dispatchDomainAction(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_DOMAIN);\n\t}\n\t\n\tfunction dispatchDataWrite(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_DATA_WRITE);\n\t}\n\t\n\tfunction dispatchDataConsume(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_DATA_CONSUMING);\n\t}\n\t\n\tfunction dispatchExternal(action, context, args) {\n\t    dispatch(action, context, args, PRIORITY_EXT);\n\t}\n\t\n\t/*\n\t * Place provided function on a queue and run it as soon as possible\n\t */\n\tfunction dispatch(action, context, args, priority) {\n\t    appendToQueue(action, context, args, priority);\n\t    startQueue();\n\t}\n\t\n\t/*\n\t * Starts executing the queue\n\t */\n\tfunction startQueue() {\n\t    if (isRunning) {\n\t        return;\n\t    }\n\t\n\t    if (queue.length > 0) {\n\t        isRunning = true;\n\t        Dispatcher.tick(function () {\n\t            try {\n\t                runFirstQueuedItem();\n\t            } catch (e) {\n\t                logError(e);\n\t            }\n\t            isRunning = false;\n\t            startQueue();\n\t        });\n\t    }\n\t}\n\t\n\tfunction logError(e) {\n\t    Dispatcher.logger.error(errorPrefix + 'Error occured while running a function');\n\t    if ((typeof e === 'undefined' ? 'undefined' : _typeof(e)) === 'object') {\n\t        if (e.stack) {\n\t            Dispatcher.logger.error(e.stack);\n\t        } else {\n\t            Dispatcher.logger.error(e.name, e.message);\n\t        }\n\t    } else {\n\t        Dispatcher.logger.error(e);\n\t    }\n\t}\n\t\n\t/*\n\t * Removes all queued actions tied with a context\n\t */\n\tfunction rejectContext(context) {\n\t    queue = queue.filter(function (item) {\n\t        return item.context !== context;\n\t    });\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.immutabilize = undefined;\n\texports.isImmutabilized = isImmutabilized;\n\t\n\tvar _env = __webpack_require__(5);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tvar immutabilizeSecret = '__$immutabilized';\n\t\n\tfunction isImmutabilized(subject) {\n\t    return !!subject[immutabilizeSecret];\n\t}\n\t\n\tvar immutabilize = exports.immutabilize = typeof Proxy !== 'function' ? function (subject) {\n\t    return subject;\n\t} : function (subject) {\n\t    if ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) !== 'object' || subject === null || subject === undefined) {\n\t        return subject;\n\t    }\n\t    if (isImmutabilized(subject)) {\n\t        return subject;\n\t    }\n\t    return new Proxy(subject, {\n\t        get: function get(target, property) {\n\t            if (property === immutabilizeSecret) {\n\t                return true;\n\t            }\n\t            if (property === 'toString') {\n\t                return function () {\n\t                    return subject.toString();\n\t                };\n\t            }\n\t            return immutabilize(target[property]);\n\t        },\n\t        set: function set(target, property, value, receiver) {\n\t            if (_env2.default === 'production') {\n\t                return false;\n\t            }\n\t\n\t            var _tryStringify = tryStringify(receiver);\n\t\n\t            var _tryStringify2 = _slicedToArray(_tryStringify, 2);\n\t\n\t            var isStringified = _tryStringify2[0];\n\t            var stringified = _tryStringify2[1];\n\t\n\t            if (isStringified) {\n\t                throw new Error(['Immutabilizer: Object', ellipse(stringified), 'has been frozen in order to contain side-effects.', 'You should not modify this object.'].join(' '));\n\t            }\n\t            throw new Error(['Immutabilizer:', 'Unrepresentable object has been frozen in order to contain side-effects.', 'You should not modify this object.'].join(' '));\n\t        }\n\t    });\n\t};\n\t\n\tfunction tryStringify(subject) {\n\t    try {\n\t        return [true, JSON.stringify(subject)];\n\t    } catch (e) {\n\t        return [false, ''];\n\t    }\n\t}\n\t\n\tfunction ellipse() {\n\t    var subject = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\t    var length = arguments.length <= 1 || arguments[1] === undefined ? 32 : arguments[1];\n\t\n\t    return subject.length > length ? subject.substr(0, 29).replace(/\\r/g, '').replace(/\\n/g, '') + '...' : subject;\n\t}\n\t\n\texports.default = immutabilize;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar env = undefined;\n\t\n\ttry {\n\t    env = (function () {\n\t        return (\"production\") || 'production';\n\t    })();\n\t} catch (e) {\n\t    env = 'production';\n\t}\n\t\n\texports.default = env;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = View;\n\t\n\tvar _ViewMergeMap = __webpack_require__(7);\n\t\n\tvar _ViewMergeMap2 = _interopRequireDefault(_ViewMergeMap);\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tvar _env = __webpack_require__(5);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tvar errorPrefix = 'Immview::View: ';\n\t\n\tfunction View(source) {\n\t    var process = arguments.length <= 1 || arguments[1] === undefined ? identity : arguments[1];\n\t\n\t    _Observable2.default.call(this);\n\t\n\t    if (source && (typeof source === 'undefined' ? 'undefined' : _typeof(source)) === 'object') {\n\t        if (source.subscribe) {\n\t            this.unsubs = connectToSource(this, source, process);\n\t        } else {\n\t            this.unsubs = connectToMultipleSources(this, source, process);\n\t        }\n\t        return;\n\t    }\n\t    throw new Error(errorPrefix + 'No sources to plug in');\n\t}\n\t\n\tView.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tView.prototype.destroy = function () {\n\t    _Observable2.default.prototype.destroy.call(this);\n\t\n\t    if (this.unsubs) {\n\t        this.unsubs.forEach(function (func) {\n\t            return func();\n\t        });\n\t    }\n\t\n\t    this.unsubs = null;\n\t};\n\t\n\tfunction identity(data) {\n\t    return data;\n\t}\n\t\n\tfunction connectToSource(aView, source, process) {\n\t    aView.digest(process(source.read()));\n\t    return [source.addSubscription(function (data) {\n\t        return aView.consume(data, process);\n\t    })];\n\t}\n\t\n\tfunction connectToMultipleSources(aView, sources, process) {\n\t    if (_env2.default !== 'production') {\n\t        console.warn([errorPrefix, 'View usage for merging streams is deprecated since 1.7.', 'Consider changing to Merge type of node.'].join(' '));\n\t    }\n\t\n\t    // initialize as a map{string:Iterable}\n\t    var mergedStructure = new _ViewMergeMap2.default();\n\t\n\t    var sourcesNames = Object.keys(sources);\n\t\n\t    // prefill mergedStructure before launching subscriptions\n\t    sourcesNames.forEach(function (sourceName) {\n\t        var source = sources[sourceName];\n\t        var sourceData = source.read();\n\t        mergedStructure = mergedStructure.set(sourceName, sourceData);\n\t    });\n\t\n\t    // subscribe to all data changes in parent views\n\t    var unsubs = sourcesNames.map(function (sourceName) {\n\t        return sources[sourceName].addSubscription(function (data) {\n\t            mergedStructure = mergedStructure.set(sourceName, data);\n\t            aView.consume(mergedStructure.clone(), process);\n\t        });\n\t    });\n\t\n\t    aView.digest(process(mergedStructure.clone()));\n\t\n\t    return unsubs;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = ViewMergeMap;\n\t\n\tfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\t/*\n\tReason to have this class is to support existing code\n\tthat expects that product of merging different streams with View\n\tis a Immutable.js Map therefore has at least basic interface of Immutable.js\n\t\n\tShould not be officially documented removed in few next versions\n\t */\n\t\n\tfunction ViewMergeMap(initialObject) {\n\t    for (var prop in initialObject) {\n\t        if (Object.prototype.hasOwnProperty.call(initialObject, prop)) {\n\t            this[prop] = initialObject[prop];\n\t        }\n\t    }\n\t}\n\t\n\tViewMergeMap.prototype = {\n\t    clone: function clone() {\n\t        return new ViewMergeMap(this);\n\t    },\n\t\n\t    /**\n\t     * Sets a value on new instance and returns it\n\t     * @param {string} prop\n\t     * @param {*} value\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    set: function set(prop, value) {\n\t        var anotherInstance = new ViewMergeMap(this);\n\t        anotherInstance[prop] = value;\n\t        return anotherInstance;\n\t    },\n\t\n\t    /**\n\t     * Returns stored value\n\t     * @param {string} prop\n\t     * @returns {*}\n\t     */\n\t    get: function get(prop) {\n\t        return this[prop];\n\t    },\n\t\n\t    /**\n\t     * Creates new ViewMergeMap\n\t     * @param processor\n\t     * @param context\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    map: function map(processor) {\n\t        var context = arguments.length <= 1 || arguments[1] === undefined ? this : arguments[1];\n\t\n\t        var result = new ViewMergeMap();\n\t        for (var prop in this) {\n\t            if (Object.prototype.hasOwnProperty.call(this, prop)) {\n\t                result[prop] = processor.call(context, this[prop]);\n\t            }\n\t        }\n\t        return result;\n\t    },\n\t\n\t    /**\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    toJS: function toJS() {\n\t        return this.map(function (v) {\n\t            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object' && typeof v.toJS === 'function') {\n\t                return v.toJS();\n\t            }\n\t            return v;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * @returns {ViewMergeMap}\n\t     */\n\t    toObject: function toObject() {\n\t        return this;\n\t    },\n\t\n\t    /**\n\t     * Gets a value stored deeply in Immutable.js structures placed inside ViewMergeMap instance\n\t     * @param {Array.<string>} props\n\t     * @param {*} defaultValue\n\t     * @returns {*}\n\t     */\n\t    getIn: function getIn() {\n\t        var _ref = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t        var _ref2 = _toArray(_ref);\n\t\n\t        var prop = _ref2[0];\n\t\n\t        var otherProps = _ref2.slice(1);\n\t\n\t        var defaultValue = arguments[1];\n\t\n\t        if (otherProps.length) {\n\t            return this.get(prop).getIn(otherProps, defaultValue);\n\t        }\n\t        return this.get(prop) === undefined ? defaultValue : this.get(prop);\n\t    },\n\t\n\t    /**\n\t     * Sets a value deeply in Immutable.js structures placed inside ViewMergeMap instance\n\t     * @param {Array.<string>} props\n\t     * @param newValue\n\t     * @returns {*|ViewMergeMap}\n\t     */\n\t    setIn: function setIn() {\n\t        var _ref3 = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t        var _ref4 = _toArray(_ref3);\n\t\n\t        var prop = _ref4[0];\n\t\n\t        var otherProps = _ref4.slice(1);\n\t\n\t        var newValue = arguments[1];\n\t\n\t        if (otherProps.length) {\n\t            return this.set(prop, (this.get(prop) || new ViewMergeMap()).setIn(otherProps, newValue));\n\t        }\n\t        return this.set(prop, newValue);\n\t    }\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Debounce;\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar errorPrefix = 'Immview::Debounce: ';\n\t\n\tfunction Debounce(source) {\n\t    var _this = this;\n\t\n\t    var timeout = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    _Observable2.default.call(this);\n\t\n\t    if (!(source && source.subscribe)) {\n\t        throw new Error(errorPrefix + 'incorrect source');\n\t    }\n\t\n\t    this.timeoutID = null;\n\t    this.digest(source.read());\n\t    this.subscription = source.addSubscription(function (data) {\n\t        if (_this.timeoutID) {\n\t            clearTimeout(_this.timeoutID);\n\t        }\n\t        _this.timeoutID = setTimeout(function () {\n\t            _this.timeoutID = null;\n\t            _this.consume(data);\n\t        }, timeout);\n\t    });\n\t}\n\t\n\tDebounce.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tDebounce.prototype.destroy = function () {\n\t    if (this.timeoutID) {\n\t        clearTimeout(this.timeoutID);\n\t        this.timeoutID = null;\n\t    }\n\t    if (this.subscription) {\n\t        this.subscription();\n\t    }\n\t    _Observable2.default.prototype.destroy.call(this);\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Throttle;\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar errorPrefix = 'Immview::Throttle: ';\n\t\n\tfunction Throttle(source) {\n\t    var _this = this;\n\t\n\t    var timeout = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    _Observable2.default.call(this);\n\t\n\t    if (!(source && source.subscribe)) {\n\t        throw new Error(errorPrefix + 'incorrect source');\n\t    }\n\t\n\t    this.timeoutID = null;\n\t    this.timeoutedData = null;\n\t    this.digest(source.read());\n\t    this.subscription = source.addSubscription(function (data) {\n\t        _this.timeoutedData = data;\n\t        if (!_this.timeoutID) {\n\t            _this.timeoutID = setTimeout(function () {\n\t                _this.timeoutID = null;\n\t                _this.consume(_this.timeoutedData);\n\t            }, timeout);\n\t        }\n\t    });\n\t}\n\t\n\tThrottle.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tThrottle.prototype.destroy = function () {\n\t    if (this.timeoutID) {\n\t        clearTimeout(this.timeoutID);\n\t        this.timeoutID = null;\n\t    }\n\t    if (this.subscription) {\n\t        this.subscription();\n\t    }\n\t    _Observable2.default.prototype.destroy.call(this);\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Scan;\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Scan(source) {\n\t    var _this = this;\n\t\n\t    var valuesToRemember = arguments.length <= 1 || arguments[1] === undefined ? 2 : arguments[1];\n\t    var initialValue = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t    _Observable2.default.apply(this);\n\t\n\t    var history = pushToHistory(premadeHistory(initialValue, valuesToRemember), valuesToRemember, source.read());\n\t\n\t    this.digest(history);\n\t\n\t    this.unsubscribe = source.addSubscription(function (sourceData) {\n\t        history = pushToHistory(history, valuesToRemember, sourceData);\n\t        _this.consume(history);\n\t    });\n\t}\n\t\n\tScan.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tScan.prototype.destroy = function () {\n\t    _Observable2.default.prototype.destroy.apply(this);\n\t\n\t    if (this.unsubscribe) {\n\t        this.unsubscribe();\n\t        this.unsubscribe = null;\n\t    }\n\t};\n\t\n\tfunction premadeHistory(initialValue, valuesToRemember) {\n\t    if (initialValue === null) {\n\t        return [];\n\t    }\n\t    var steps = [];\n\t    for (var i = 0; i < valuesToRemember; i++) {\n\t        steps.push(initialValue);\n\t    }\n\t    return steps;\n\t}\n\t\n\tfunction pushToHistory(history, valuesToRemember, newValue) {\n\t    var newHistory = history.slice(-1 * valuesToRemember + 1);\n\t    newHistory.push(newValue);\n\t    return newHistory;\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tvar _env = __webpack_require__(5);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar errorPrefix = 'Immview::Reduce';\n\t\n\tfunction Reduce(source, reducer) {\n\t    var _this = this;\n\t\n\t    if (_env2.default !== 'production') {\n\t        if (!source) {\n\t            throw new Error(errorPrefix + ' #' + this.priority + ': No source');\n\t        }\n\t        if (!source.subscribe) {\n\t            throw new Error(errorPrefix + ' #' + this.priority + ': Source is not an observable');\n\t        }\n\t        if (!reducer) {\n\t            throw new Error(errorPrefix + ' #' + this.priority + ': No reducer provided');\n\t        }\n\t    }\n\t\n\t    _Observable2.default.call(this);\n\t\n\t    this.unsubscribeFromSource = source.subscribe(function (sourceState) {\n\t        _this.consume(reducer(_this.read(), sourceState));\n\t    });\n\t}\n\t\n\tReduce.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tReduce.prototype.destroy = function () {\n\t    if (!this.closed) {\n\t        this.unsubscribeFromSource();\n\t        _Observable2.default.prototype.destroy.call(this);\n\t    }\n\t};\n\t\n\texports.default = Reduce;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Domain;\n\t\n\tvar _Dispatcher = __webpack_require__(3);\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar noop = function noop() {\n\t    return null;\n\t};\n\t\n\tvar errorPrefix = 'Immview::Domain: ';\n\t\n\t/*\n\t * Create a domain holding a view\n\t */\n\tfunction Domain(stream, actions) {\n\t    if (!stream.subscribe) {\n\t        throw new Error(errorPrefix + ' stream source required');\n\t    }\n\t    /*\n\t     */\n\t    this.stream = stream;\n\t    assignActions(this, actions);\n\t}\n\t\n\tDomain.prototype = {\n\t    /*\n\t     * Retrieve last value on stream attached to the Domain\n\t     */\n\t\n\t    read: function read() {\n\t        return this.stream.read();\n\t    },\n\t\n\t    // WRITE ?\n\t    // no write method now and in the future\n\t    // as it would encourage developers\n\t    // to modify domain data\n\t    // outside of the domain scope\n\t\n\t    map: function map() {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return this.stream.map.apply(this.stream, args);\n\t    },\n\t    debounce: function debounce() {\n\t        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t            args[_key2] = arguments[_key2];\n\t        }\n\t\n\t        return this.stream.debounce.apply(this.stream, args);\n\t    },\n\t    throttle: function throttle() {\n\t        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            args[_key3] = arguments[_key3];\n\t        }\n\t\n\t        return this.stream.throttle.apply(this.stream, args);\n\t    },\n\t    scan: function scan() {\n\t        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t            args[_key4] = arguments[_key4];\n\t        }\n\t\n\t        return this.stream.scan.apply(this.stream, args);\n\t    },\n\t    reduce: function reduce() {\n\t        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n\t            args[_key5] = arguments[_key5];\n\t        }\n\t\n\t        return this.stream.reduce.apply(this.stream, args);\n\t    },\n\t    subscribe: function subscribe() {\n\t        for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n\t            args[_key6] = arguments[_key6];\n\t        }\n\t\n\t        return this.stream.subscribe.apply(this.stream, args);\n\t    },\n\t    addSubscription: function addSubscription() {\n\t        for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n\t            args[_key7] = arguments[_key7];\n\t        }\n\t\n\t        return this.stream.addSubscription.apply(this.stream, args);\n\t    },\n\t\n\t    /*\n\t     * Remove all subscriptions caused by the domain.\n\t     * Destroy stream attached to it.\n\t     * Cancel all currently dispatched actions.\n\t     */\n\t    destroy: function destroy() {\n\t        var _this = this;\n\t\n\t        // destroy and unmount a structure\n\t        this.stream.destroy();\n\t        this.stream = null;\n\t\n\t        // remove all queued actions\n\t        (0, _Dispatcher.rejectContext)(this);\n\t\n\t        // unmount all domain methods\n\t        this._actionNames.forEach(function (actionName) {\n\t            _this[actionName] = noop;\n\t        });\n\t        this._actionNames = null;\n\t    }\n\t};\n\t\n\tfunction assignActions(ctx, actions) {\n\t    if (!actions) {\n\t        ctx.actions = function () {\n\t            return [];\n\t        };\n\t        return;\n\t    }\n\t    var actionNames = Object.keys(actions);\n\t\n\t    actionNames.forEach(function (actionName) {\n\t        var action = actions[actionName];\n\t\n\t        if (ctx[actionName] !== undefined) {\n\t            throw new Error('' + errorPrefix + actionName + ' is reserved for Domain interface');\n\t        }\n\t\n\t        if (typeof action !== 'function') {\n\t            throw new Error('' + errorPrefix + actionName + ' action is not a function');\n\t        }\n\t\n\t        ctx[actionName] = function () {\n\t            for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n\t                args[_key8] = arguments[_key8];\n\t            }\n\t\n\t            (0, _Dispatcher.dispatchDomainAction)(action, ctx, args);\n\t        };\n\t\n\t        ctx[actionName].originalLength = action.length || action.originalLength;\n\t    });\n\t\n\t    ctx._actionNames = actionNames; //legacy TODO remove\n\t    ctx.actions = function () {\n\t        return actionNames;\n\t    };\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Data;\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Data(initialData) {\n\t    _Observable2.default.call(this);\n\t    this.digest(initialData);\n\t\n\t    this.pendingChanges = [];\n\t}\n\t\n\tData.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tData.prototype.write = function (change) {\n\t    if (this.closed) return;\n\t    if (typeof change === 'function') {\n\t        this.pendingChanges.push(change);\n\t        this.consume(this, executePendingChanges);\n\t    } else {\n\t        this.consume(change);\n\t    }\n\t};\n\tData.prototype.destroy = function () {\n\t    _Observable2.default.prototype.destroy.call(this);\n\t    this.pendingChanges = null;\n\t};\n\t\n\tfunction executePendingChanges(observable) {\n\t    if (observable.closed) {\n\t        return observable.read();\n\t    }\n\t    var changed = observable.pendingChanges.reduce(function (result, change) {\n\t        return change(result);\n\t    }, observable.read());\n\t    observable.pendingChanges = [];\n\t    return changed;\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Merge;\n\t\n\tvar _Observable = __webpack_require__(1);\n\t\n\tvar _Observable2 = _interopRequireDefault(_Observable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tvar errorPrefix = 'Immview::Merge:';\n\t\n\tfunction Merge(sources) {\n\t    var _this = this;\n\t\n\t    _Observable2.default.call(this);\n\t\n\t    if (!sources || (typeof sources === 'undefined' ? 'undefined' : _typeof(sources)) !== 'object') {\n\t        throw new Error(errorPrefix + ' No sources to plug in');\n\t    }\n\t\n\t    var sourcesNames = Object.keys(sources);\n\t\n\t    // prefill mergedStructure before launching subscriptions\n\t    var mergedStructure = sourcesNames.reduce(function (structure, sourceName) {\n\t        return Object.assign(_defineProperty({}, sourceName, sources[sourceName].read()), structure);\n\t    }, {});\n\t\n\t    // subscribe to all data changes in parent views\n\t    this.unsubs = sourcesNames.map(function (sourceName) {\n\t        return sources[sourceName].addSubscription(function (data) {\n\t            mergedStructure = Object.assign({}, mergedStructure, _defineProperty({}, sourceName, data));\n\t            _this.consume(mergedStructure);\n\t        });\n\t    });\n\t\n\t    this.digest(Object.assign({}, mergedStructure));\n\t}\n\t\n\tMerge.prototype = Object.create(_Observable2.default.prototype);\n\t\n\tMerge.prototype.destroy = function () {\n\t    _Observable2.default.prototype.destroy.call(this);\n\t\n\t    if (this.unsubs) {\n\t        this.unsubs.forEach(function (func) {\n\t            return func();\n\t        });\n\t    }\n\t\n\t    this.unsubs = null;\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** immview.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 62569160d0685ec04126\n **/","//@flow\nimport Observable from './Observable';\nimport Domain from './Domain';\nimport Data from './Data';\nimport View from './View';\nimport Debounce from './Debounce';\nimport Throttle from './Throttle';\nimport Scan from './Scan';\nimport Merge from './Merge';\nimport Reduce from './Reduce';\nimport {\n    Dispatcher,\n    dispatch,\n} from './Dispatcher';\n\nexport {\n    Observable,\n    Data,\n    View,\n    Domain,\n    Debounce,\n    Throttle,\n    Scan,\n    Merge,\n    Reduce,\n    Dispatcher,\n    dispatch,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import * as Digest from './Digest';\nimport * as DispatcherModule from './Dispatcher';\nimport {immutabilize, isImmutabilized} from './Immutabilize';\nimport env from './env';\n\n/*\n * Observable is an base class for all immview observables\n */\nexport default function Observable() {\n    this.structure = null;\n    this.priority = Observable.nextPriority++;\n    this.subscriptions = [\n        data => {\n            this.structure = data;\n        },\n    ];\n    this.closed = false;\n}\n\nObservable.nextPriority = 0;\n\nObservable.prototype = {\n    structure: null,\n    priority: 0,\n    subscriptions: [],\n    closed: false,\n\n    read() {\n        return this.structure;\n    },\n\n    shouldObservableUpdate(candidate) {\n        if (!hasValue(candidate)) return false;\n        if (typeof candidate === 'object') {\n            return !isImmutabilized(candidate) || this.read() !== candidate;\n        }\n        return this.read() !== candidate;\n    },\n\n    /*\n     * Defers a digestion with a function\n     * that can be replaced\n     * without any data loss\n     */\n    consume(candidate, process = identity) {\n        Digest.queue(this, candidate, process);\n    },\n\n    /*\n     * Replace current state and push data further\n     */\n    digest(candidate) {\n        if (this.digestCandidate || candidate instanceof Promise) {\n            this.digestCandidate =\n                (this.digestCandidate || Promise.resolve())\n                    .then(() => candidate)\n                    .then(data => this.flush(data));\n        } else {\n            this.flush(candidate);\n        }\n    },\n\n    flush(candidate) {\n        if (this.shouldObservableUpdate(candidate)) {\n            for (let i = 0; this.subscriptions && i < this.subscriptions.length; i++) {\n                this.subscriptions[i](immutabilize(candidate));\n            }\n        }\n    },\n\n    /*\n     * Registers a function that is going to be fed with new data pushing by this observable\n     */\n    addSubscription(reaction) {\n        if (this.subscriptions.indexOf(reaction) < 0) {\n            this.subscriptions.push(reaction);\n        }\n        return () => {\n            this.subscriptions = this.subscriptions.filter(\n                registeredReaction => registeredReaction !== reaction\n            );\n        };\n    },\n\n    /*\n     * Registers a function that is going to be fed with new data pushing by this observable.\n     * Will launch provided function immediately.\n     */\n    subscribe(reaction) {\n        reaction(this.read());\n        return this.addSubscription(reaction);\n    },\n\n    destroy() {\n        DispatcherModule.rejectContext(this);\n        this.structure = null;\n        this.subscriptions = [];\n        Object.defineProperty\n            ? Object.defineProperty(this, 'closed', { value: true, writable: false })\n            : this.closed = true;\n    },\n\n    map(processor) {\n        const View = require('./View').default;\n        return new View(this, processor);\n    },\n\n    debounce(timeout) {\n        const Debounce = require('./Debounce').default;\n        return new Debounce(this, timeout);\n    },\n\n    throttle(timeout) {\n        const Throttle = require('./Throttle').default;\n        return new Throttle(this, timeout);\n    },\n\n    scan(valuesToRemember, initialValue) {\n        const Scan = require('./Scan').default;\n        return new Scan(this, valuesToRemember, initialValue);\n    },\n\n    reduce(reducer) {\n        const Reduce = require('./Reduce').default;\n        return new Reduce(this, reducer);\n    },\n\n    info(name = '') {\n        try {\n            const content = JSON.stringify(this.read()).substr(0, 32);\n            DispatcherModule\n                .Dispatcher\n                .logger\n                .log(`#${this.priority} ${name} ${content}`);\n        } catch (e) {\n            DispatcherModule\n                .Dispatcher\n                .logger\n                .log(`#${this.priority} ${name}`, this.read());\n        }\n    },\n};\n\nfunction hasValue(v) {\n    return (\n        v !== undefined &&\n        v !== null\n    );\n}\n\nfunction identity(v) {\n    return v;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Observable.js\n **/","//@flow\nimport {\n    dispatchDataWrite,\n    dispatchDataConsume,\n} from './Dispatcher';\nimport type Observable from './Observable';\n\nconst schedule: {\n    observable: Observable,\n    data: any,\n    process: (subject: any) => any\n}[] = [];\n\nexport function queue(observable: Observable, data: any, process: (subject: any) => any) {\n    dispatchDataConsume(\n        () => {\n            scheduleObservableConsumption(observable, data, process);\n            dispatchQueueExecution();\n        }\n    );\n}\n\nfunction scheduleObservableConsumption(observable, data, process) {\n    for (let i = 0; i < schedule.length; i++) {\n        if (schedule[i].observable.priority === observable.priority) {\n            schedule[i].data = data;\n            return;\n        }\n        if (schedule[i].observable.priority > observable.priority) {\n            schedule.splice(i, 0, { observable, data, process });\n            return;\n        }\n    }\n    schedule.splice(schedule.length, 0, { observable, data, process });\n}\n\nfunction dispatchQueueExecution() {\n    dispatchDataWrite(executeQueue);\n}\n\nfunction executeQueue() {\n    if (schedule.length) {\n        const [{ observable, data, process }] = schedule.splice(0, 1);\n        observable.digest(process(data));\n        dispatchQueueExecution();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Digest.js\n **/","//@flow\n\nlet isRunning = false;\nlet queue: {\n    action: () => any,\n    context: any,\n    args: any[],\n    priority: number\n}[] = [];\nconst errorPrefix = 'Immview::Dispatcher: ';\n\nconst PRIORITY_EXT = 0;\nconst PRIORITY_DOMAIN = 1;\nconst PRIORITY_DATA_WRITE = 2;\nconst PRIORITY_DATA_CONSUMING = 3;\n\nconst Dispatcher = {\n    dispatch: dispatchExternal,\n\n    tick(func: () => any) {\n        func();\n    },\n\n    rejectContext,\n\n    logger: console,\n};\n\nexport {\n    Dispatcher as default,\n    Dispatcher,\n    dispatch,\n    dispatchDomainAction,\n    dispatchDataWrite,\n    dispatchDataConsume,\n    dispatchExternal,\n    rejectContext,\n};\n\n/*\n * Execute first action of current queue\n */\nfunction runFirstQueuedItem() {\n    const task = shiftFromQueue();\n    if (task) {\n        const {\n            context,\n            action,\n            args,\n        } = task;\n        action && action.apply(context, args);\n    }\n}\n\nfunction shiftFromQueue() {\n    const toRun = findMaxPriority();\n    if (toRun) {\n        queue.splice(\n            queue.indexOf(toRun),\n            1\n        );\n    }\n    return toRun;\n}\n\nfunction findMaxPriority() {\n    let maxPriority = -1;\n    let firstOfPriority = null;\n    for (let i = 0; i < queue.length; i++) {\n        const jobPriority = queue[i].priority;\n        if (jobPriority > maxPriority) {\n            firstOfPriority = queue[i];\n            maxPriority = jobPriority;\n        }\n    }\n    return firstOfPriority;\n}\n\n/*\n * Append new action onto end of the queue\n */\nfunction appendToQueue(\n    action: () => any,\n    context?:any = null,\n    args?: any[] = [],\n    priority?: number = PRIORITY_EXT\n) {\n    queue.push({\n        priority,\n        action,\n        context,\n        args,\n    });\n}\n\nfunction dispatchDomainAction(action: () => any, context?: any, args?: any[]) {\n    dispatch(action, context, args, PRIORITY_DOMAIN);\n}\n\nfunction dispatchDataWrite(action: () => any, context?: any, args?: any[]) {\n    dispatch(action, context, args, PRIORITY_DATA_WRITE);\n}\n\nfunction dispatchDataConsume(action: () => any, context?: any, args?: any[]) {\n    dispatch(action, context, args, PRIORITY_DATA_CONSUMING);\n}\n\nfunction dispatchExternal(action: () => any, context?: any, args?: any[]) {\n    dispatch(action, context, args, PRIORITY_EXT);\n}\n\n/*\n * Place provided function on a queue and run it as soon as possible\n */\nfunction dispatch(action: () => any, context?: any, args?: any[], priority: number) {\n    appendToQueue(action, context, args, priority);\n    startQueue();\n}\n\n/*\n * Starts executing the queue\n */\nfunction startQueue() {\n    if (isRunning) {\n        return;\n    }\n\n    if (queue.length > 0) {\n        isRunning = true;\n        Dispatcher.tick(() => {\n            try {\n                runFirstQueuedItem();\n            } catch (e) {\n                logError(e);\n            }\n            isRunning = false;\n            startQueue();\n        });\n    }\n}\n\nfunction logError(e) {\n    Dispatcher.logger.error(`${errorPrefix}Error occured while running a function`);\n    if (typeof e === 'object') {\n        if (e.stack) {\n            Dispatcher.logger.error(e.stack);\n        } else {\n            Dispatcher.logger.error(e.name, e.message);\n        }\n    } else {\n        Dispatcher.logger.error(e);\n    }\n}\n\n/*\n * Removes all queued actions tied with a context\n */\nfunction rejectContext(context: any) {\n    queue = queue.filter(item => item.context !== context);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Dispatcher.js\n **/","import env from './env';\n\nconst immutabilizeSecret = '__$immutabilized';\n\nexport function isImmutabilized(subject) {\n    return !!subject[immutabilizeSecret];\n}\n\nexport const immutabilize = (\n    typeof Proxy !== 'function'\n)\n    ? (subject) => subject\n    : (subject) => {\n        if (\n            typeof subject !== 'object' ||\n            subject === null ||\n            subject === undefined\n        ) {\n            return subject;\n        }\n        if (isImmutabilized(subject)) {\n            return subject;\n        }\n        return new Proxy(\n            subject,\n            {\n                get: (target, property) => {\n                    if (property === immutabilizeSecret) {\n                        return true;\n                    }\n                    if (property === 'toString') {\n                        return () => {\n                            return subject.toString();\n                        };\n                    }\n                    return immutabilize(target[property]);\n                },\n                set: (target, property, value, receiver) => {\n                    if (env === 'production') {\n                        return false;\n                    }\n                    let [isStringified, stringified] = tryStringify(receiver);\n                    if (isStringified) {\n                        throw new Error([\n                            'Immutabilizer: Object',\n                            ellipse(stringified),\n                            'has been frozen in order to contain side-effects.',\n                            'You should not modify this object.',\n                        ].join(' '));\n                    }\n                    throw new Error([\n                        'Immutabilizer:',\n                        'Unrepresentable object has been frozen in order to contain side-effects.',\n                        'You should not modify this object.',\n                    ].join(' '));\n                },\n            }\n        );\n    };\n\nfunction tryStringify(subject) {\n    try {\n        return [true, JSON.stringify(subject)];\n    } catch (e) {\n        return [false, ''];\n    }\n}\n\nfunction ellipse(subject = '', length = 32) {\n    return subject.length > length\n        ? `${subject.substr(0, 29).replace(/\\r/g, '').replace(/\\n/g, '')}...`\n        : subject;\n}\n\nexport default immutabilize;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Immutabilize.js\n **/","//@flow\n\nlet env: string;\n\ntry {\n    env = ((): string => process.env.NODE_ENV || 'production')();\n} catch (e) {\n    env = 'production';\n}\n\nexport default env;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/env.js\n **/","//@flow\nimport ViewMergeMap from './ViewMergeMap';\nimport Observable from './Observable';\nimport env from './env';\n\nconst errorPrefix = 'Immview::View: ';\n\nexport default function View(\n    source: Observable,\n    process: (subject: any) => any = identity\n) {\n    Observable.call(this);\n\n    if (source && typeof source === 'object') {\n        if (source.subscribe) {\n            this.unsubs = connectToSource(this, source, process);\n        } else {\n            this.unsubs = connectToMultipleSources(this, source, process);\n        }\n        return;\n    }\n    throw new Error(`${errorPrefix}No sources to plug in`);\n}\n\nView.prototype = Object.create(Observable.prototype);\n\nView.prototype.destroy = function () {\n    Observable.prototype.destroy.call(this);\n\n    if (this.unsubs) {\n        this.unsubs.forEach(func => func());\n    }\n\n    this.unsubs = null;\n};\n\nfunction identity(data) {\n    return data;\n}\n\nfunction connectToSource(aView, source, process) {\n    aView.digest(process(source.read()));\n    return [\n        source.addSubscription(data => aView.consume(data, process)),\n    ];\n}\n\nfunction connectToMultipleSources(aView, sources, process) {\n    if (env !== 'production') {\n        console.warn([\n            errorPrefix,\n            'View usage for merging streams is deprecated since 1.7.',\n            'Consider changing to Merge type of node.',\n        ].join(' '));\n    }\n\n    // initialize as a map{string:Iterable}\n    let mergedStructure = new ViewMergeMap();\n\n    const sourcesNames = Object.keys(sources);\n\n    // prefill mergedStructure before launching subscriptions\n    sourcesNames.forEach(sourceName => {\n        const source = sources[sourceName];\n        const sourceData = source.read();\n        mergedStructure = mergedStructure.set(sourceName, sourceData);\n    });\n\n    // subscribe to all data changes in parent views\n    const unsubs = sourcesNames.map(\n        sourceName => sources[sourceName].addSubscription(\n            data => {\n                mergedStructure = mergedStructure.set(sourceName, data);\n                aView.consume(mergedStructure.clone(), process);\n            }\n        )\n    );\n\n    aView.digest(process(mergedStructure.clone()));\n\n    return unsubs;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/View.js\n **/","//@flow\n/*\nReason to have this class is to support existing code\nthat expects that product of merging different streams with View\nis a Immutable.js Map therefore has at least basic interface of Immutable.js\n\nShould not be officially documented removed in few next versions\n */\n\nexport default function ViewMergeMap(initialObject?: Object) {\n    for (let prop in initialObject) {\n        if (Object.prototype.hasOwnProperty.call(initialObject, prop)) {\n            this[prop] = initialObject[prop];\n        }\n    }\n}\n\nViewMergeMap.prototype = {\n    clone() {\n        return new ViewMergeMap(this);\n    },\n\n    /**\n     * Sets a value on new instance and returns it\n     * @param {string} prop\n     * @param {*} value\n     * @returns {ViewMergeMap}\n     */\n    set(prop, value) {\n        const anotherInstance = new ViewMergeMap(this);\n        anotherInstance[prop] = value;\n        return anotherInstance;\n    },\n\n    /**\n     * Returns stored value\n     * @param {string} prop\n     * @returns {*}\n     */\n    get(prop) {\n        return this[prop];\n    },\n\n    /**\n     * Creates new ViewMergeMap\n     * @param processor\n     * @param context\n     * @returns {ViewMergeMap}\n     */\n    map(processor, context = this) {\n        const result = new ViewMergeMap();\n        for (let prop in this) {\n            if (Object.prototype.hasOwnProperty.call(this, prop)) {\n                result[prop] = processor.call(context, this[prop]);\n            }\n        }\n        return result;\n    },\n\n    /**\n     * @returns {ViewMergeMap}\n     */\n    toJS() {\n        return this.map(v => {\n            if (typeof v === 'object' && typeof v.toJS === 'function') {\n                return v.toJS();\n            }\n            return v;\n        });\n    },\n\n    /**\n     * @returns {ViewMergeMap}\n     */\n    toObject() {\n        return this;\n    },\n\n    /**\n     * Gets a value stored deeply in Immutable.js structures placed inside ViewMergeMap instance\n     * @param {Array.<string>} props\n     * @param {*} defaultValue\n     * @returns {*}\n     */\n    getIn([prop, ...otherProps] = [], defaultValue) {\n        if (otherProps.length) {\n            return this.get(prop).getIn(otherProps, defaultValue);\n        }\n        return (\n            this.get(prop) === undefined\n                ? defaultValue\n                : this.get(prop)\n        );\n    },\n\n    /**\n     * Sets a value deeply in Immutable.js structures placed inside ViewMergeMap instance\n     * @param {Array.<string>} props\n     * @param newValue\n     * @returns {*|ViewMergeMap}\n     */\n    setIn([prop, ...otherProps] = [], newValue) {\n        if (otherProps.length) {\n            return this.set(\n                prop,\n                (this.get(prop) || new ViewMergeMap()).setIn(otherProps, newValue)\n            );\n        }\n        return this.set(prop, newValue);\n    },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ViewMergeMap.js\n **/","//@flow\nimport Observable from './Observable';\n\nconst errorPrefix = 'Immview::Debounce: ';\n\nexport default function Debounce(source: Observable, timeout: number = 0) {\n    Observable.call(this);\n\n    if (!(source && source.subscribe)) {\n        throw new Error(`${errorPrefix}incorrect source`);\n    }\n\n    this.timeoutID = null;\n    this.digest(source.read());\n    this.subscription = source.addSubscription(data => {\n        if (this.timeoutID) {\n            clearTimeout(this.timeoutID);\n        }\n        this.timeoutID = setTimeout(() => {\n            this.timeoutID = null;\n            this.consume(data);\n        }, timeout);\n    });\n}\n\nDebounce.prototype = Object.create(Observable.prototype);\n\nDebounce.prototype.destroy = function () {\n    if (this.timeoutID) {\n        clearTimeout(this.timeoutID);\n        this.timeoutID = null;\n    }\n    if (this.subscription) {\n        this.subscription();\n    }\n    Observable.prototype.destroy.call(this);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Debounce.js\n **/","//@flow\nimport Observable from './Observable';\n\nconst errorPrefix = 'Immview::Throttle: ';\n\nexport default function Throttle(source: Observable, timeout: number = 0) {\n    Observable.call(this);\n\n    if (!(source && source.subscribe)) {\n        throw new Error(`${errorPrefix}incorrect source`);\n    }\n\n    this.timeoutID = null;\n    this.timeoutedData = null;\n    this.digest(source.read());\n    this.subscription = source.addSubscription(data => {\n        this.timeoutedData = data;\n        if (!this.timeoutID) {\n            this.timeoutID = setTimeout(() => {\n                this.timeoutID = null;\n                this.consume(this.timeoutedData);\n            }, timeout);\n        }\n    });\n}\n\nThrottle.prototype = Object.create(Observable.prototype);\n\nThrottle.prototype.destroy = function () {\n    if (this.timeoutID) {\n        clearTimeout(this.timeoutID);\n        this.timeoutID = null;\n    }\n    if (this.subscription) {\n        this.subscription();\n    }\n    Observable.prototype.destroy.call(this);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Throttle.js\n **/","import Observable from './Observable';\n\nexport default function Scan(\n    source,\n    valuesToRemember = 2,\n    initialValue = null\n) {\n    Observable.apply(this);\n\n    let history = pushToHistory(\n        premadeHistory(initialValue, valuesToRemember),\n        valuesToRemember,\n        source.read()\n    );\n\n    this.digest(history);\n\n    this.unsubscribe = source.addSubscription(\n        sourceData => {\n            history = pushToHistory(history, valuesToRemember, sourceData);\n            this.consume(history);\n        }\n    );\n}\n\nScan.prototype = Object.create(Observable.prototype);\n\nScan.prototype.destroy = function () {\n    Observable.prototype.destroy.apply(this);\n\n    if (this.unsubscribe) {\n        this.unsubscribe();\n        this.unsubscribe = null;\n    }\n};\n\nfunction premadeHistory(initialValue, valuesToRemember) {\n    if (initialValue === null) {\n        return [];\n    }\n    const steps = [];\n    for (let i = 0; i < valuesToRemember; i++) {\n        steps.push(initialValue);\n    }\n    return steps;\n}\n\nfunction pushToHistory(history, valuesToRemember, newValue) {\n    const newHistory = history.slice(-1 * valuesToRemember + 1);\n    newHistory.push(newValue);\n    return newHistory;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Scan.js\n **/","import Observable from './Observable';\nimport env from './env';\n\nconst errorPrefix = 'Immview::Reduce';\n\nfunction Reduce(source, reducer) {\n    if (env !== 'production') {\n        if (!source) {\n            throw new Error(`${errorPrefix} #${this.priority}: No source`);\n        }\n        if (!source.subscribe) {\n            throw new Error(`${errorPrefix} #${this.priority}: Source is not an observable`);\n        }\n        if (!reducer) {\n            throw new Error(`${errorPrefix} #${this.priority}: No reducer provided`);\n        }\n    }\n\n    Observable.call(this);\n\n    this.unsubscribeFromSource = source.subscribe(\n        sourceState => {\n            this.consume(reducer(this.read(), sourceState));\n        }\n    );\n}\n\nReduce.prototype = Object.create(Observable.prototype);\n\nReduce.prototype.destroy = function () {\n    if (!this.closed) {\n        this.unsubscribeFromSource();\n        Observable.prototype.destroy.call(this);\n    }\n};\n\nexport default Reduce;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Reduce.js\n **/","//@flow\nimport {\n    dispatchDomainAction,\n    rejectContext,\n} from './Dispatcher.js';\nimport Observable from './Observable';\nconst noop = () => null;\n\nconst errorPrefix = 'Immview::Domain: ';\n\n/*\n * Create a domain holding a view\n */\nexport default function Domain(stream: Observable, actions: { [id: string]: () => any}) {\n    if (!stream.subscribe) {\n        throw new Error(`${errorPrefix} stream source required`);\n    }\n    /*\n     */\n    this.stream = stream;\n    assignActions(this, actions);\n}\n\nDomain.prototype = {\n    /*\n     * Retrieve last value on stream attached to the Domain\n     */\n    read() {\n        return this.stream.read();\n    },\n\n    // WRITE ?\n    // no write method now and in the future\n    // as it would encourage developers\n    // to modify domain data\n    // outside of the domain scope\n\n    map(...args) {\n        return this.stream.map.apply(this.stream, args);\n    },\n\n    debounce(...args) {\n        return this.stream.debounce.apply(this.stream, args);\n    },\n\n    throttle(...args) {\n        return this.stream.throttle.apply(this.stream, args);\n    },\n\n    scan(...args) {\n        return this.stream.scan.apply(this.stream, args);\n    },\n\n    reduce(...args) {\n        return this.stream.reduce.apply(this.stream, args);\n    },\n\n    subscribe(...args) {\n        return this.stream.subscribe.apply(this.stream, args);\n    },\n\n    addSubscription(...args) {\n        return this.stream.addSubscription.apply(this.stream, args);\n    },\n\n    /*\n     * Remove all subscriptions caused by the domain.\n     * Destroy stream attached to it.\n     * Cancel all currently dispatched actions.\n     */\n    destroy() {\n        // destroy and unmount a structure\n        this.stream.destroy();\n        this.stream = null;\n\n        // remove all queued actions\n        rejectContext(this);\n\n        // unmount all domain methods\n        this._actionNames.forEach((actionName) => {\n            this[actionName] = noop;\n        });\n        this._actionNames = null;\n    },\n};\n\nfunction assignActions(ctx, actions) {\n    if (!actions) {\n        ctx.actions = () => [];\n        return;\n    }\n    const actionNames = Object.keys(actions);\n\n    actionNames.forEach((actionName) => {\n        const action = actions[actionName];\n\n        if (ctx[actionName] !== undefined) {\n            throw new Error(`${errorPrefix}${actionName} is reserved for Domain interface`);\n        }\n\n        if (typeof action !== 'function') {\n            throw new Error(`${errorPrefix}${actionName} action is not a function`);\n        }\n\n        ctx[actionName] = (...args) => {\n            dispatchDomainAction(action, ctx, args);\n        };\n\n        ctx[actionName].originalLength = action.length || action.originalLength;\n    });\n\n    ctx._actionNames = actionNames; //legacy TODO remove\n    ctx.actions = () => actionNames;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Domain.js\n **/","//@flow\nimport Observable from './Observable';\n\nexport default function Data(initialData: any) {\n    Observable.call(this);\n    this.digest(initialData);\n\n    this.pendingChanges = [];\n}\n\nData.prototype = Object.create(Observable.prototype);\n\nData.prototype.write = function (change) {\n    if (this.closed) return;\n    if (typeof change === 'function') {\n        this.pendingChanges.push(change);\n        this.consume(this, executePendingChanges);\n    } else {\n        this.consume(change);\n    }\n};\nData.prototype.destroy = function () {\n    Observable.prototype.destroy.call(this);\n    this.pendingChanges = null;\n};\n\nfunction executePendingChanges(observable: Data) {\n    if (observable.closed) {\n        return observable.read();\n    }\n    const changed = observable.pendingChanges.reduce(\n        (result, change) => change(result),\n        observable.read()\n    );\n    observable.pendingChanges = [];\n    return changed;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Data.js\n **/","//@flow\nimport Observable from './Observable.js';\n\nconst errorPrefix = 'Immview::Merge:';\n\nexport default function Merge(sources: { [id: string]: Observable }) {\n    Observable.call(this);\n\n    if (!sources || typeof sources !== 'object') {\n        throw new Error(`${errorPrefix} No sources to plug in`);\n    }\n\n    const sourcesNames = Object.keys(sources);\n\n    // prefill mergedStructure before launching subscriptions\n    let mergedStructure = sourcesNames.reduce(\n        (structure, sourceName) =>\n            Object.assign(\n                { [sourceName]: sources[sourceName].read() },\n                structure\n            ),\n        {}\n    );\n\n    // subscribe to all data changes in parent views\n    this.unsubs = sourcesNames.map(\n        sourceName => sources[sourceName].addSubscription(\n            data => {\n                mergedStructure = Object.assign(\n                    {},\n                    mergedStructure,\n                    { [sourceName]: data }\n                );\n                this.consume(mergedStructure);\n            }\n        )\n    );\n\n    this.digest(Object.assign({}, mergedStructure));\n}\n\nMerge.prototype = Object.create(Observable.prototype);\n\nMerge.prototype.destroy = function () {\n    Observable.prototype.destroy.call(this);\n\n    if (this.unsubs) {\n        this.unsubs.forEach(func => func());\n    }\n\n    this.unsubs = null;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Merge.js\n **/"],"sourceRoot":""}