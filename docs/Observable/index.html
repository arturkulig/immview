
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>Observable - Documentation</title>
      
    
    
      <script src="../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Documentation" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Observable
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
          </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href=".." title="Immview" class="md-nav__link">
        Immview
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Observable
      </label>
    
    <a href="./" title="Observable" class="md-nav__link md-nav__link--active">
      Observable
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#static-of" title="static of" class="md-nav__link">
    static of
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-from" title="static from" class="md-nav__link">
    static from
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-frompromise" title="static fromPromise" class="md-nav__link">
    static fromPromise
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../Atom/" title="Atom" class="md-nav__link">
        Atom
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../AtomObservableDiff/" title="Atom or Observable?" class="md-nav__link">
        Atom or Observable?
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../Combine/" title="Combine" class="md-nav__link">
        Combine
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../Domain/" title="Domain" class="md-nav__link">
        Domain
      </a>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#static-of" title="static of" class="md-nav__link">
    static of
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-from" title="static from" class="md-nav__link">
    static from
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-frompromise" title="static fromPromise" class="md-nav__link">
    static fromPromise
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
              
                
                <h1 id="class-observablet">class <code>Observable&lt;T&gt;</code></h1>
<p><code>new (subscriber: (observer: {next: (value: T) =&gt; void, error: (err: Error) =&gt; void, complete: () =&gt; void}) =&gt; void | () =&gt; void)</code></p>
<p>Construct with <code>subscriber</code> function that receives <code>observer</code> object. <code>Observer</code> is for pushing values, errors and completion signal.</p>
<p><code>Subscriber</code> function may return function that should be called if <code>Observable</code> receives <code>complete</code> signal or is cancelled.</p>
<hr />
<h2 id="static-of">static <em>of</em></h2>
<p><code>(...args: T[]): Observable&lt;T&gt;;</code></p>
<p>Function to create an <code>Observable</code> that immediately pushes values given as arguments.</p>
<p><strong>Stream is immediately completed after all values are pushed.</strong>
If you wish to create a stream and kickstart it with a value(s), use <code>startWith</code>.</p>
<hr />
<h2 id="static-from">static <em>from</em></h2>
<p><code>(values: T[]): Observable&lt;T&gt;;</code></p>
<p>Function to create an <code>Observable</code> that immediately pushes values given as an array of values.</p>
<p><strong>Stream is immediately completed after all values are pushed.</strong>
If you wish to create a stream and kickstart it with a value(s), use <code>startWith</code>.</p>
<hr />
<h2 id="static-frompromise">static <em>fromPromise</em></h2>
<p><code>(values: Promise&lt;T&gt;): Observable&lt;T&gt;;</code></p>
<p>Function to create an <code>Observable</code> that pushes a value
revealed with provided <code>Promise</code> and then completes
as no more values to get from it.</p>
<h1 id="subscribable-interface">Subscribable interface</h1>
<hr />
<h2 id="subscribe">subscribe</h2>
<p><code>( { start: (sub: Subscription) =&gt; void, next: (value: T) =&gt; void, error: (err: Error) =&gt; void, complete: () =&gt; void } ) =&gt; { unsubscribe(): void }</code></p>
<p><code>( onNext?: (value: T) =&gt; void, onError?: (err: Error) =&gt; void, onCompletion?: () =&gt; void ) =&gt; { unsubscribe(): void }</code></p>
<p>Registers a function called every time when the Observable changes value that it holds, error is pushed or Observable is complete.</p>
<p>Returns a function to unregister the subscription.</p>
<hr />
<h2 id="topromise">toPromise</h2>
<p><code>() =&gt; T</code></p>
<p>Returns next <strong>value</strong> that's going to be pushed through the <code>Observable</code> instance.</p>
<pre><code class="javascript">// Example
const source = new Observable()
setTimeout(() =&gt; source.next(1), 100)
const value = await source.toPromise()
</code></pre>

<hr />
<h2 id="previous">previous</h2>
<h3 id="deprecated-use-deref-and-hasref">DEPRECATED - use deref and hasRef</h3>
<p><code>() =&gt; T | NO_VALUE</code></p>
<p>Returns previous <strong>value</strong> that has been pushed through the <code>Observable</code> instance.
If no value has been pushed yet, NO_VALUE object is released.</p>
<pre><code class="javascript">import {Observable, NO_VALUE} from 'immview'
// Example
const source = new Observable(({next}) =&gt; { next(1) })
source.previous() === NO_VALUE // true
source.subscribe(value =&gt; {
    value === source.previous() // true
})
</code></pre>

<h1 id="observer-interface">Observer interface</h1>
<hr />
<h2 id="next">next</h2>
<p><code>(nextValue: T) =&gt; void</code></p>
<p>Sends value signal through the <code>Observable</code> instance. Values can be received, by <code>Observable.prototype.subscribe</code> method or <code>Observable.prototype.previous</code>.</p>
<hr />
<h2 id="error">error</h2>
<p><code>(error: Error) =&gt; void</code></p>
<p>Sends error signal through the <code>Observable</code> instance. Errors can be received, with <code>Observable.prototype.subscribe</code> method.</p>
<hr />
<h2 id="complete">complete</h2>
<p><code>() =&gt; void</code></p>
<p>Sends <code>complete</code> signal through the <code>Observable</code> instance. Completion can be handled, with <code>Observable.prototype.subscribe</code> method.</p>
<h1 id="operators-common">Operators - common</h1>
<hr />
<h2 id="map">map</h2>
<p><code>(action: (value: T) =&gt; U): Observable&lt;U&gt;</code></p>
<p>Creates a derivative stream of values where
every value pushed by a parent is transformed with <code>action</code> function and push further by <code>Observable</code> -
result of this function call.</p>
<hr />
<h2 id="filter">filter</h2>
<p><code>(filter: (value: T) =&gt; boolean): Observable&lt;T&gt;;</code></p>
<p>Creates a derivative stream of values where
only those values that meet requirements formulated
with <code>filter</code> function are going to be pushed by that derivative <code>Observable</code>.</p>
<hr />
<h2 id="scan">scan</h2>
<p><code>(accumulator: (summary: U, value: T, index: number) =&gt; U, defaultValue?: U): Observable&lt;U&gt;</code></p>
<p>Creates a derivative stream of values where
on every value that parent pushes
there is <code>accumulator</code> function called
getting last pushed value and new value that has been pushed by parent <code>Observable</code>.
Result of the function is next value of newly created <code>Observable</code>.
First call is with summary being undefined unless <code>defautValue</code> is also passed.</p>
<hr />
<h2 id="flatten">flatten</h2>
<p><code>(): Observable&lt;U&gt;</code></p>
<p>When parent <code>Observable</code> is releasing other <code>Observable</code>s as values
use <code>flatten</code> to create a derivative stream that consists only of values
that are released by these "observable values".</p>
<hr />
<h2 id="merge">merge</h2>
<p>`(...args: Observable<T>;[]): Observable<T>;</p>
<p>Creates a stream containing all values of parent and of provided in arguments streams.</p>
<hr />
<h2 id="distinct">distinct</h2>
<p><code>(comparator?: (prev: T, next: T) =&gt; boolean): Observable&lt;T&gt;;</code></p>
<p>Creates a derivative stream of values
but eliminates repeated subsequent value occurences.</p>
<p>If <code>comparator</code> is passed, it is going to be used
to determine if a value is distinct from previous one.
Otherwise strict equal is incorporated.</p>
<hr />
<h2 id="buffer">buffer</h2>
<p><code>(maxLastValues: number = 0): Observable&lt;T[]&gt;</code></p>
<p>Creates a derivative stream of parent <code>Observable</code> values gathered in array.
New values set is released after
all other <code>Observable</code>s values are pushed through
and all <code>Domain</code> actions being called.
You can specify how many of there messages has to be remembered.</p>
<hr />
<h2 id="materialize">materialize</h2>
<p><code>(defaultState: T): Atom&lt;T&gt;</code></p>
<p>Creates a derivative stream with an <code>Atom</code> where all values pushed by source are pushed by this node too.
Resulting <code>Atom</code> will start with <code>defaultState</code> state value.</p>
<pre><code class="javascript">async function example() {
    const a = new Observable().materialize(1)
    await leThreeHoursLater()
    console.log(a.deref()) // logs '1'
}
</code></pre>

<h1 id="operators-specific">Operators - specific</h1>
<hr />
<h2 id="startwith">startWith</h2>
<p><code>(firstValue: T): Observable&lt;T&gt;;</code></p>
<p>Creates a derivative stream of values where
it has all values of parent stream, but these are preceeded
with <code>firstValue</code> that is immediately shared with all other nodes
that subscribed to the newly created stream.</p>
<hr />
<h2 id="buffercount">bufferCount</h2>
<p><code>(bufferSize: number, customBufferCount: number = null): Observable&lt;T[]&gt;</code></p>
<p>Creates a derivative stream containing parent <code>Observable</code> values
gathered in an Array.
New values set is released
every <code>bufferSize</code>-th parent <code>Observable</code> value or
every <code>customBufferCount</code>-th parent <code>Observable</code> value
if second argument is present.</p>
<p>As it might be still mysterious how it works
consider these graphical representations
of how values are pushed in time:</p>
<pre><code>const a = Observable.of(1, 2, 3, 4, 5)
const b = a.bufferCount(2)

a --1--2--3--4--5--|
b -----[1,2]-[3,4]-[5]|
</code></pre>

<pre><code>const a = Observable.of(1, 2, 3, 4, 5)
const b = a.bufferCount(3, 2) // now with custom window

a --1--2--3-------4--5-|
b --------[1,2,3]----[3,4,5]-|
</code></pre>

<hr />
<h2 id="reemit">reemit</h2>
<p><code>(): Observable&lt;T&gt;</code></p>
<p>Creates a derivative stream where all values pushed by source are pushed by this node too,
but also this new one will push at first last value that has been pushed by source in the past,
if any was actually pushed.</p>
<pre><code class="javascript">async function example() {
    const a = new Observable().startWith(1)
    await leThreeHoursLater()
    const b = a.reemit()
    console.log(await b.toPromise()) // logs '1'
}
</code></pre>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Immview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Immview
              </span>
            </div>
          </a>
        
        
          <a href="../Atom/" title="Atom" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Atom
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:".."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>